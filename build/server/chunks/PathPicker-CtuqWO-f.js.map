{"version":3,"file":"PathPicker-CtuqWO-f.js","sources":["../../../.svelte-kit/adapter-node/chunks/PathPicker.js"],"sourcesContent":["import { c as create_ssr_component, f as each, e as escape, d as add_attribute } from \"./ssr.js\";\nimport { l as listTcodes, g as getChapters, a as getExercises, c as chapterNo } from \"./synopsisServices.js\";\nconst css = {\n  code: \".pp-grid.svelte-1mgcx14{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}@media(max-width: 900px){.pp-grid.svelte-1mgcx14{grid-template-columns:1fr}}.pp-field.svelte-1mgcx14{display:grid;gap:8px}label.svelte-1mgcx14{font-weight:600;font-size:14px}.req.svelte-1mgcx14{color:#e33;margin-left:4px}select.svelte-1mgcx14{padding:10px 12px;border:1px solid #333;border-radius:12px;background:#111;color:#eee;outline:none}.hint.svelte-1mgcx14{color:#9aa;font-size:12px}\",\n  map: `{\"version\":3,\"file\":\"PathPicker.svelte\",\"sources\":[\"PathPicker.svelte\"],\"sourcesContent\":[\"<script>\\\\n    import {\\\\n      listTcodes,\\\\n      getChapters,\\\\n      getExercises,\\\\n      chapterNo\\\\n    } from '../services/synopsisServices';\\\\n  \\\\n    // parent binds this: { tcode, chapterSlug, chapterNo, exerciseSlug }\\\\n    export let value = { tcode: '', chapterSlug: '', chapterNo: null, exerciseSlug: '' };\\\\n    export let disabled = false;\\\\n    export let required = true;\\\\n  \\\\n    let tcodes = [];\\\\n    let chapters = [];\\\\n    let exercises = [];\\\\n  \\\\n    // load tcodes once (sync, no DB)\\\\n    $: tcodes = listTcodes();\\\\n  \\\\n    // when tcode changes → refresh chapters; reset chapter/exercise if invalid\\\\n    $: {\\\\n      chapters = value.tcode ? getChapters(value.tcode) : [];\\\\n      if (!chapters.find(c => c.filename === value.chapterSlug)) {\\\\n        value.chapterSlug = '';\\\\n        value.chapterNo = null;\\\\n      }\\\\n    }\\\\n  \\\\n    // when chapter changes → refresh exercises; compute chapterNo; reset exercise if invalid\\\\n    $: {\\\\n      exercises = (value.tcode && value.chapterSlug) ? getExercises(value.tcode, value.chapterSlug) : [];\\\\n      value.chapterNo = (value.tcode && value.chapterSlug) ? chapterNo(value.tcode, value.chapterSlug) : null;\\\\n      if (!exercises.find(e => e.filename === value.exerciseSlug)) {\\\\n        value.exerciseSlug = '';\\\\n      }\\\\n    }\\\\n  <\\/script>\\\\n  \\\\n  <div class=\\\\\"pp-grid\\\\\">\\\\n    <div class=\\\\\"pp-field\\\\\">\\\\n      <label>Tcode{#if required}<span class=\\\\\"req\\\\\">*</span>{/if}</label>\\\\n      <select bind:value={value.tcode} disabled={disabled} required={required}>\\\\n        <option value=\\\\\"\\\\\" disabled selected hidden>— Select tcode —</option>\\\\n        {#each tcodes as t}\\\\n          <option value={t.tcodeName}>{t.tcodeName}</option>\\\\n        {/each}\\\\n      </select>\\\\n    </div>\\\\n  \\\\n    <div class=\\\\\"pp-field\\\\\">\\\\n      <label>Chapter{#if required}<span class=\\\\\"req\\\\\">*</span>{/if}</label>\\\\n      <select\\\\n        bind:value={value.chapterSlug}\\\\n        disabled={disabled || !value.tcode || !chapters.length}\\\\n        required={required}\\\\n      >\\\\n        <option value=\\\\\"\\\\\" disabled selected hidden>— Select chapter —</option>\\\\n        {#each chapters as ch}\\\\n          <option value={ch.filename}>{ch.name}</option>\\\\n        {/each}\\\\n      </select>\\\\n      {#if value.chapterNo !== null}\\\\n        <small class=\\\\\"hint\\\\\">Chapter # {value.chapterNo}</small>\\\\n      {/if}\\\\n    </div>\\\\n  \\\\n    <div class=\\\\\"pp-field\\\\\">\\\\n      <label>Exercise{#if required}<span class=\\\\\"req\\\\\">*</span>{/if}</label>\\\\n      <select\\\\n        bind:value={value.exerciseSlug}\\\\n        disabled={disabled || !value.chapterSlug || !exercises.length}\\\\n        required={required}\\\\n      >\\\\n        <option value=\\\\\"\\\\\" disabled selected hidden>— Select exercise —</option>\\\\n        {#each exercises as ex}\\\\n          <option value={ex.filename}>{ex.name}</option>\\\\n        {/each}\\\\n      </select>\\\\n    </div>\\\\n  </div>\\\\n  \\\\n  <style>\\\\n    .pp-grid { display:grid; grid-template-columns: repeat(3,1fr); gap:16px; }\\\\n    @media (max-width: 900px){ .pp-grid{ grid-template-columns:1fr; } }\\\\n    .pp-field{ display:grid; gap:8px; }\\\\n    label{ font-weight:600; font-size:14px; }\\\\n    .req{ color:#e33; margin-left:4px; }\\\\n    select{\\\\n      padding:10px 12px; border:1px solid #333; border-radius:12px;\\\\n      background:#111; color:#eee; outline:none;\\\\n    }\\\\n    .hint{ color:#9aa; font-size:12px; }\\\\n  </style>\\\\n  \"],\"names\":[],\"mappings\":\"AAmFI,uBAAS,CAAE,QAAQ,IAAI,CAAE,qBAAqB,CAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAE,IAAI,IAAM,CACzE,MAAO,YAAY,KAAK,CAAC,CAAE,uBAAQ,CAAE,sBAAsB,GAAK,CAAE,CAClE,wBAAS,CAAE,QAAQ,IAAI,CAAE,IAAI,GAAK,CAClC,oBAAK,CAAE,YAAY,GAAG,CAAE,UAAU,IAAM,CACxC,mBAAI,CAAE,MAAM,IAAI,CAAE,YAAY,GAAK,CACnC,qBAAM,CACJ,QAAQ,IAAI,CAAC,IAAI,CAAE,OAAO,GAAG,CAAC,KAAK,CAAC,IAAI,CAAE,cAAc,IAAI,CAC5D,WAAW,IAAI,CAAE,MAAM,IAAI,CAAE,QAAQ,IACvC,CACA,oBAAK,CAAE,MAAM,IAAI,CAAE,UAAU,IAAM\"}`\n};\nconst PathPicker = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { value = {\n    tcode: \"\",\n    chapterSlug: \"\",\n    chapterNo: null,\n    exerciseSlug: \"\"\n  } } = $$props;\n  let { disabled = false } = $$props;\n  let { required = true } = $$props;\n  let tcodes = [];\n  let chapters = [];\n  let exercises = [];\n  if ($$props.value === void 0 && $$bindings.value && value !== void 0) $$bindings.value(value);\n  if ($$props.disabled === void 0 && $$bindings.disabled && disabled !== void 0) $$bindings.disabled(disabled);\n  if ($$props.required === void 0 && $$bindings.required && required !== void 0) $$bindings.required(required);\n  $$result.css.add(css);\n  tcodes = listTcodes();\n  {\n    {\n      chapters = value.tcode ? getChapters(value.tcode) : [];\n      if (!chapters.find((c) => c.filename === value.chapterSlug)) {\n        value.chapterSlug = \"\";\n        value.chapterNo = null;\n      }\n    }\n  }\n  {\n    {\n      exercises = value.tcode && value.chapterSlug ? getExercises(value.tcode, value.chapterSlug) : [];\n      value.chapterNo = value.tcode && value.chapterSlug ? chapterNo(value.tcode, value.chapterSlug) : null;\n      if (!exercises.find((e) => e.filename === value.exerciseSlug)) {\n        value.exerciseSlug = \"\";\n      }\n    }\n  }\n  return `<div class=\"pp-grid svelte-1mgcx14\"><div class=\"pp-field svelte-1mgcx14\"><label class=\"svelte-1mgcx14\">Tcode${required ? `<span class=\"req svelte-1mgcx14\" data-svelte-h=\"svelte-11pvnzz\">*</span>` : ``}</label> <select ${disabled ? \"disabled\" : \"\"} ${required ? \"required\" : \"\"} class=\"svelte-1mgcx14\"><option value=\"\" disabled selected hidden data-svelte-h=\"svelte-x8hqf0\">— Select tcode —</option>${each(tcodes, (t) => {\n    return `<option${add_attribute(\"value\", t.tcodeName, 0)}>${escape(t.tcodeName)}</option>`;\n  })}</select></div> <div class=\"pp-field svelte-1mgcx14\"><label class=\"svelte-1mgcx14\">Chapter${required ? `<span class=\"req svelte-1mgcx14\" data-svelte-h=\"svelte-11pvnzz\">*</span>` : ``}</label> <select ${disabled || !value.tcode || !chapters.length ? \"disabled\" : \"\"} ${required ? \"required\" : \"\"} class=\"svelte-1mgcx14\"><option value=\"\" disabled selected hidden data-svelte-h=\"svelte-1if4kfc\">— Select chapter —</option>${each(chapters, (ch) => {\n    return `<option${add_attribute(\"value\", ch.filename, 0)}>${escape(ch.name)}</option>`;\n  })}</select> ${value.chapterNo !== null ? `<small class=\"hint svelte-1mgcx14\">Chapter # ${escape(value.chapterNo)}</small>` : ``}</div> <div class=\"pp-field svelte-1mgcx14\"><label class=\"svelte-1mgcx14\">Exercise${required ? `<span class=\"req svelte-1mgcx14\" data-svelte-h=\"svelte-11pvnzz\">*</span>` : ``}</label> <select ${disabled || !value.chapterSlug || !exercises.length ? \"disabled\" : \"\"} ${required ? \"required\" : \"\"} class=\"svelte-1mgcx14\"><option value=\"\" disabled selected hidden data-svelte-h=\"svelte-1u8m99\">— Select exercise —</option>${each(exercises, (ex) => {\n    return `<option${add_attribute(\"value\", ex.filename, 0)}>${escape(ex.name)}</option>`;\n  })}</select></div> </div>`;\n});\nexport {\n  PathPicker as P\n};\n"],"names":[],"mappings":"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"}