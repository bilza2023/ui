{"version":3,"file":"_page.svelte-CukeWCFx.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/workdesk/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component } from \"../../../../chunks/ssr.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../chunks/exports.js\";\nimport \"../../../../chunks/utils.js\";\nimport \"../../../../chunks/state.svelte.js\";\n/* empty css                                                      */\nconst css = {\n  code: \".flex.svelte-db7og2{display:flex}.items-center.svelte-db7og2{align-items:center}.justify-center.svelte-db7og2{justify-content:center}.h-full.svelte-db7og2{height:100%}taleem-slides.svelte-db7og2{display:block;width:100%;height:100vh}\",\n  map: `{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<svelte:head>\\\\n  <script type=\\\\\"module\\\\\" src=\\\\\"/components/taleem-slides/taleem-slides.js\\\\\"><\\/script>\\\\n</svelte:head>\\\\n\\\\n<script>\\\\n  import NavBar from '../../../lib/taleemSlides/NavBar.svelte';\\\\n\\\\n  let deck = [];\\\\n  let mounted = false;\\\\n  let currentTime = 0;\\\\n  let duration = 0;\\\\n\\\\n  // reference to the CE\\\\n  let slidesEl;\\\\n\\\\n  function computeDuration(slides = []) {\\\\n    const times = slides.map(s => (s.end != null ? s.end : 0)); // avoid ??\\\\n    return Math.max(0, ...times);\\\\n  }\\\\n\\\\n  function onSeek(val) {\\\\n    currentTime = Math.max(0, Math.min(duration, val));\\\\n  }\\\\n\\\\n  function handleFile(e) {\\\\n    const file = e.target.files[0];\\\\n    if (!file) return;\\\\n\\\\n    const reader = new FileReader();\\\\n    reader.onload = (event) => {\\\\n      try {\\\\n        const obj = JSON.parse(event.target.result);\\\\n        // avoid ?? and optional chaining to be safe\\\\n        const arr = Array.isArray(obj) ? obj : ((obj && obj.slides) ? obj.slides : (obj && obj.deck) ? obj.deck : []);\\\\n        deck = arr;\\\\n        duration = computeDuration(deck) || 100; // NavBar only\\\\n        currentTime = 0;\\\\n        mounted = true;\\\\n      } catch {\\\\n        alert(\\\\\"Invalid JSON file\\\\\");\\\\n      }\\\\n    };\\\\n    reader.readAsText(file);\\\\n  }\\\\n\\\\n  // push props into the CE whenever they change\\\\n  $: if (slidesEl) slidesEl.deck = deck;\\\\n  $: if (slidesEl) slidesEl.currentTime = currentTime;\\\\n<\\/script>\\\\n\\\\n{#if mounted && deck.length}\\\\n  <!-- USE THE WEB COMPONENT, not the Svelte component -->\\\\n  <taleem-slides bind:this={slidesEl}></taleem-slides>\\\\n\\\\n  <NavBar {currentTime} {duration} onSeek={onSeek}/>\\\\n{:else}\\\\n  <div class=\\\\\"flex items-center justify-center h-full\\\\\">Load a deck file to start</div>\\\\n{/if}\\\\n\\\\n<input type=\\\\\"file\\\\\" accept=\\\\\".json\\\\\" on:change={handleFile} />\\\\n\\\\n<style>\\\\n  .flex{display:flex}.items-center{align-items:center}.justify-center{justify-content:center}.h-full{height:100%}\\\\n  taleem-slides{display:block;width:100%;height:100vh}\\\\n</style>\\\\n\"],\"names\":[],\"mappings\":\"AA8DE,mBAAK,CAAC,QAAQ,IAAI,CAAC,2BAAa,CAAC,YAAY,MAAM,CAAC,6BAAe,CAAC,gBAAgB,MAAM,CAAC,qBAAO,CAAC,OAAO,IAAI,CAC9G,2BAAa,CAAC,QAAQ,KAAK,CAAC,MAAM,IAAI,CAAC,OAAO,KAAK\"}`\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  $$result.css.add(css);\n  return `${$$result.head += `<!-- HEAD_svelte-1atrt0p_START --><script type=\"module\" src=\"/components/taleem-slides/taleem-slides.js\" data-svelte-h=\"svelte-1xn108w\"><\\/script><!-- HEAD_svelte-1atrt0p_END -->`, \"\"}  ${`<div class=\"flex items-center justify-center h-full svelte-db7og2\" data-svelte-h=\"svelte-bbpyfx\">Load a deck file to start</div>`} <input type=\"file\" accept=\".json\">`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;AAKA;AACA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,2OAA2O;AACnP,EAAE,GAAG,EAAE,CAAC,0wEAA0wE;AAClxE,CAAC;AACI,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACvB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,kLAAkL,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,gIAAgI,CAAC,CAAC,mCAAmC,CAAC;AACjY,CAAC;;;;"}