import { c as create_ssr_component } from './ssr-CO7PFcwR.js';

const css = {
  code: ".wrap.svelte-zu442p{min-height:100vh;display:grid;place-items:center;padding:24px}.card.svelte-zu442p{width:min(820px, 94vw);display:grid;gap:16px;padding:20px 22px;border:1px solid rgba(255,255,255,0.12);border-radius:14px;background:rgba(255,255,255,0.04)}h1.svelte-zu442p{margin:0 0 2px;font-size:1.25rem}.muted.svelte-zu442p{opacity:0.8}.err.svelte-zu442p{color:#ff6b6b}.empty.svelte-zu442p{display:grid;gap:10px}.btn.svelte-zu442p{display:inline-block;padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.06);color:inherit}.list.svelte-zu442p{display:grid;gap:12px;margin:0;padding:0;list-style:none}.msg.svelte-zu442p{display:grid;gap:6px;padding:12px;border:1px solid rgba(255,255,255,0.12);border-radius:12px;background:rgba(255,255,255,0.03)}.meta.svelte-zu442p{display:flex;gap:10px;justify-content:space-between;font-size:12px;opacity:0.85}.cat.svelte-zu442p{text-transform:uppercase;letter-spacing:0.04em}.body.svelte-zu442p{font-size:0.98rem;line-height:1.5}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { onMount } from 'svelte';\\n  \\n    let loading = true;\\n    let error = '';\\n    let user = null;        // { id, email } | null\\n    let messages = [];      // [{ id, category, message, created_at, read }]\\n  \\n    async function loadMessages() {\\n      loading = true; error = ''; user = null; messages = [];\\n      let token = null;\\n      try { token = localStorage.getItem('token'); } catch {}\\n  \\n      try {\\n        const res = await fetch('/studio', {\\n          method: 'GET',\\n          headers: {\\n            'accept': 'application/json',\\n            ...(token ? { 'authorization': \`Bearer \${token}\` } : {})\\n          }\\n        });\\n        const data = await res.json().catch(() => ({}));\\n        if (!res.ok) throw new Error(data?.error || 'Failed to load messages');\\n  \\n        user = data?.user ?? null;\\n        messages = Array.isArray(data?.messages) ? data.messages : [];\\n      } catch (e) {\\n        error = e?.message ?? 'Failed to load';\\n      } finally {\\n        loading = false;\\n      }\\n    }\\n  \\n    onMount(loadMessages);\\n  \\n    function fmt(d) {\\n      try { return new Date(d).toLocaleString(); } catch { return d; }\\n    }\\n  <\/script>\\n  \\n  <svelte:head><title>Studio</title></svelte:head>\\n  \\n  <div class=\\"wrap\\">\\n    <div class=\\"card\\">\\n      <h1>Studio</h1>\\n  \\n      {#if loading}\\n      <p class=\\"muted\\">Loading…</p>\\n    {:else if error}\\n      <p class=\\"err\\">{error}</p>\\n    {:else if !user}\\n      <div class=\\"empty\\">\\n        <p>Please log in to see your messages.</p>\\n        <a class=\\"btn\\" href=\\"/login\\">Log in</a>\\n      </div>\\n    {:else}\\n      {#if messages.length === 0}\\n        <p class=\\"muted\\">No new messages.</p>\\n      {:else}\\n        <ul class=\\"list\\">\\n          {#each messages as m}\\n            <li class=\\"msg\\">\\n              <div class=\\"meta\\">\\n                <span class=\\"cat\\">{m.category}</span>\\n                <span class=\\"date\\">{fmt(m.created_at)}</span>\\n              </div>\\n              <div class=\\"body\\">\\n                {@html m.message}\\n              </div>\\n            </li>\\n          {/each}\\n        </ul>\\n      {/if}\\n    {/if}\\n    \\n    </div>\\n  </div>\\n  \\n  <style>\\n    .wrap { min-height: 100vh; display: grid; place-items: center; padding: 24px; }\\n    .card {\\n      width: min(820px, 94vw);\\n      display: grid; gap: 16px;\\n      padding: 20px 22px;\\n      border: 1px solid rgba(255,255,255,0.12);\\n      border-radius: 14px;\\n      background: rgba(255,255,255,0.04);\\n    }\\n    h1 { margin: 0 0 2px; font-size: 1.25rem; }\\n    .muted { opacity: 0.8; }\\n    .err { color: #ff6b6b; }\\n    .empty { display: grid; gap: 10px; }\\n    .btn {\\n      display: inline-block;\\n      padding: 8px 12px;\\n      border-radius: 10px;\\n      border: 1px solid rgba(255,255,255,0.12);\\n      background: rgba(255,255,255,0.06);\\n      color: inherit;\\n    }\\n    .list { display: grid; gap: 12px; margin: 0; padding: 0; list-style: none; }\\n    .msg {\\n      display: grid; gap: 6px;\\n      padding: 12px;\\n      border: 1px solid rgba(255,255,255,0.12);\\n      border-radius: 12px;\\n      background: rgba(255,255,255,0.03);\\n    }\\n    .meta { display: flex; gap: 10px; justify-content: space-between; font-size: 12px; opacity: 0.85; }\\n    .cat { text-transform: uppercase; letter-spacing: 0.04em; }\\n    .body { font-size: 0.98rem; line-height: 1.5; }\\n  </style>\\n  "],"names":[],"mappings":"AA+EI,mBAAM,CAAE,UAAU,CAAE,KAAK,CAAE,OAAO,CAAE,IAAI,CAAE,WAAW,CAAE,MAAM,CAAE,OAAO,CAAE,IAAM,CAC9E,mBAAM,CACJ,KAAK,CAAE,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CACvB,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,IAAI,CACxB,OAAO,CAAE,IAAI,CAAC,IAAI,CAClB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CACxC,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CACnC,CACA,gBAAG,CAAE,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAE,SAAS,CAAE,OAAS,CAC1C,oBAAO,CAAE,OAAO,CAAE,GAAK,CACvB,kBAAK,CAAE,KAAK,CAAE,OAAS,CACvB,oBAAO,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,IAAM,CACnC,kBAAK,CACH,OAAO,CAAE,YAAY,CACrB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,aAAa,CAAE,IAAI,CACnB,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CACxC,UAAU,CAAE,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAClC,KAAK,CAAE,OACT,CACA,mBAAM,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,IAAI,CAAE,MAAM,CAAE,CAAC,CAAE,OAAO,CAAE,CAAC,CAAE,UAAU,CAAE,IAAM,CAC3E,kBAAK,CACH,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,GAAG,CACvB,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CACxC,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,KAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CACnC,CACA,mBAAM,CAAE,OAAO,CAAE,IAAI,CAAE,GAAG,CAAE,IAAI,CAAE,eAAe,CAAE,aAAa,CAAE,SAAS,CAAE,IAAI,CAAE,OAAO,CAAE,IAAM,CAClG,kBAAK,CAAE,cAAc,CAAE,SAAS,CAAE,cAAc,CAAE,MAAQ,CAC1D,mBAAM,CAAE,SAAS,CAAE,OAAO,CAAE,WAAW,CAAE,GAAK"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${$$result.head += `<!-- HEAD_svelte-1ubm9zp_START -->${$$result.title = `<title>Studio</title>`, ""}<!-- HEAD_svelte-1ubm9zp_END -->`, ""} <div class="wrap svelte-zu442p"><div class="card svelte-zu442p"><h1 class="svelte-zu442p" data-svelte-h="svelte-1xi36hy">Studio</h1> ${`<p class="muted svelte-zu442p" data-svelte-h="svelte-jbr5m6">Loading…</p>`}</div> </div>`;
});

export { Page as default };
//# sourceMappingURL=_page.svelte-DizKW5jo.js.map
