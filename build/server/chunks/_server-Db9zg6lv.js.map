{"version":3,"file":"_server-Db9zg6lv.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/admin/delete/_server.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { d as deleteQuestion } from \"../../../../chunks/questionServices.js\";\nasync function POST({ request }) {\n  const formData = await request.formData();\n  const filename = formData.get(\"filename\");\n  if (typeof filename !== \"string\" || !filename.trim()) {\n    return json({ success: false, error: \"Invalid filename.\" }, { status: 400 });\n  }\n  try {\n    await deleteQuestion(filename);\n    return json({ success: true });\n  } catch (err) {\n    console.error(\"Delete error:\", err);\n    return json(\n      {\n        success: false,\n        error: err.code === \"P2025\" || err.message.includes(\"Record\") ? \"Question not found.\" : err.message\n      },\n      { status: 404 }\n    );\n  }\n}\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,QAAQ,EAAE;AAC3C,EAAE,MAAM,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC;AAC3C,EAAE,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE;AACxD,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,mBAAmB,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAChF,EAAE;AACF,EAAE,IAAI;AACN,IAAI,MAAM,cAAc,CAAC,QAAQ,CAAC;AAClC,IAAI,OAAO,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAClC,EAAE,CAAC,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,eAAe,EAAE,GAAG,CAAC;AACvC,IAAI,OAAO,IAAI;AACf,MAAM;AACN,QAAQ,OAAO,EAAE,KAAK;AACtB,QAAQ,KAAK,EAAE,GAAG,CAAC,IAAI,KAAK,OAAO,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,qBAAqB,GAAG,GAAG,CAAC;AACpG,OAAO;AACP,MAAM,EAAE,MAAM,EAAE,GAAG;AACnB,KAAK;AACL,EAAE;AACF;;;;"}