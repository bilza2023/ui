{"version":3,"file":"_page.svelte-C0bPUQ6i.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/player/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, b as subscribe } from \"../../../chunks/ssr.js\";\nimport { p as page } from \"../../../chunks/stores.js\";\nimport \"howler\";\n/* empty css                                                         */\nimport \"katex\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../chunks/exports.js\";\nimport \"../../../chunks/state.svelte.js\";\nconst css = {\n  code: \".flex.svelte-1m0ephw{display:flex}.items-center.svelte-1m0ephw{align-items:center}.justify-center.svelte-1m0ephw{justify-content:center}.h-full.svelte-1m0ephw{height:100%}\",\n  map: `{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<svelte:head>\\\\n  <meta name=\\\\\"robots\\\\\" content=\\\\\"index,follow\\\\\" />\\\\n</svelte:head>\\\\n\\\\n<img\\\\n  src=\\\\\"/images/taleem.webp\\\\\"\\\\n  alt=\\\\\"Taleem Slide Preview\\\\\"\\\\n  style=\\\\\"display: none;\\\\\"\\\\n  width=\\\\\"1200\\\\\"\\\\n  height=\\\\\"630\\\\\"\\\\n/>\\\\n\\\\n<script>\\\\n  import { onMount } from 'svelte';\\\\n  import { page } from '$app/stores';\\\\n  import { SveltePlayer } from '../../lib/Player';\\\\n\\\\n  export let data;\\\\n  const { deck, background, error } = data;\\\\n  let soundUrl = null;\\\\n  let notFound = false;\\\\n  let mounted = false;\\\\n\\\\n  onMount(async () => {\\\\n    const params = new URLSearchParams($page.url.search);\\\\n    const filename = params.get('filename');\\\\n   \\\\n    if (!filename) {\\\\n      notFound = true;\\\\n    } else {\\\\n      try {\\\\n        const opusName = \\`\\${filename}.opus\\`;\\\\n        const response = await fetch(\\`/sounds/\\${opusName}\\`, { \\\\n          method: 'HEAD',\\\\n          cache: 'no-store' // Prevent caching issues\\\\n        });\\\\n        soundUrl = response.ok ? \\`/sounds/\\${opusName}\\` : null;\\\\n      } catch (err) {\\\\n        console.log('Fetch error for sound file:', err.message); // Log for debugging\\\\n        soundUrl = null; // Ensure null on any error\\\\n      }\\\\n    }\\\\n\\\\n    mounted = true;\\\\n    return () => {}; // Cleanup function\\\\n  });\\\\n<\\/script>\\\\n\\\\n{#if mounted}\\\\n  {#if notFound}\\\\n    <!-- dont remove this text-black -->\\\\n    <div class=\\\\\"flex items-center justify-center h-full p-8\\\\\">\\\\n      <p class=\\\\\"text-lg font-semibold text-gray-700\\\\\">Content not found.</p>\\\\n    </div>\\\\n  {:else if deck}\\\\n    {#key soundUrl}\\\\n      <SveltePlayer\\\\n        {deck}\\\\n        {soundUrl}\\\\n        {background}\\\\n      />\\\\n    {/key}\\\\n  {:else}\\\\n    <div class=\\\\\"flex items-center justify-center h-full p-8\\\\\">\\\\n      <p class=\\\\\"text-lg font-medium text-gray-600\\\\\">Loadingâ€¦</p>\\\\n    </div>\\\\n  {/if}\\\\n{/if}\\\\n\\\\n<style>\\\\n  .flex {\\\\n    display: flex;\\\\n  }\\\\n  .items-center {\\\\n    align-items: center;\\\\n  }\\\\n  .justify-center {\\\\n    justify-content: center;\\\\n  }\\\\n  .h-full {\\\\n    height: 100%;\\\\n  }\\\\n</style>\"],\"names\":[],\"mappings\":\"AAsEE,oBAAM,CACJ,OAAO,CAAE,IACX,CACA,4BAAc,CACZ,WAAW,CAAE,MACf,CACA,8BAAgB,CACd,eAAe,CAAE,MACnB,CACA,sBAAQ,CACN,MAAM,CAAE,IACV\"}`\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => value);\n  let { data } = $$props;\n  const { deck, background, error } = data;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css);\n  $$unsubscribe_page();\n  return `${$$result.head += `<!-- HEAD_svelte-11evgey_START --><meta name=\"robots\" content=\"index,follow\"><!-- HEAD_svelte-11evgey_END -->`, \"\"} <img src=\"/images/taleem.webp\" alt=\"Taleem Slide Preview\" style=\"display: none;\" width=\"1200\" height=\"630\">  ${``}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;;AAQA,MAAM,GAAG,GAAG;AACZ,EAAE,IAAI,EAAE,6KAA6K;AACrL,EAAE,GAAG,EAAE,CAAC,iyEAAiyE;AACzyE,CAAC;AACI,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,kBAAkB;AACxB,EAAE,kBAAkB,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,KAAK,CAAC;AACxD,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,OAAO;AACxB,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,IAAI;AAC1C,EAAE,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,IAAI,UAAU,CAAC,IAAI,IAAI,IAAI,KAAK,MAAM,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1F,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACvB,EAAE,kBAAkB,EAAE;AACtB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,6GAA6G,CAAC,EAAE,EAAE,CAAC,8GAA8G,EAAE,CAAC,CAAC,CAAC,CAAC;AACrQ,CAAC;;;;"}