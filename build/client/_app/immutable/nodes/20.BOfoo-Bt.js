import{S as _e,i as be,s as ge,n as pe,d as m,E as Ce,G as fe,f as l,m as me,e as V,o as s,J as X,C as je,q as b,j as p,k as N,B,p as Y,v as g,l as f,r as Z}from"../chunks/Z9DZtfMg.js";import"../chunks/IHki7fMi.js";import{g as ke}from"../chunks/29W-Tj8B.js";function ve(o){let a,t;return{c(){a=f("div"),t=Z(o[3]),this.h()},l(e){a=p(e,"DIV",{class:!0,"aria-live":!0});var i=N(a);t=Y(i,o[3]),i.forEach(m),this.h()},h(){l(a,"class","error svelte-1jv3cpt"),l(a,"aria-live","polite")},m(e,i){V(e,a,i),s(a,t)},p(e,i){i&8&&me(t,e[3])},d(e){e&&m(a)}}}function de(o){let a;return{c(){a=Z("Creating‚Ä¶")},l(t){a=Y(t,"Creating‚Ä¶")},m(t,e){V(t,a,e)},d(t){t&&m(a)}}}function he(o){let a;return{c(){a=Z("Create account")},l(t){a=Y(t,"Create account")},m(t,e){V(t,a,e)},d(t){t&&m(a)}}}function we(o){let a,t,e,i,L="üåê Taleem.Help",E,C,z="Register / Create account",D,w,T,q="Email",j,n,x,P,H,ne="Password",$,S,h,R,ee,y,O=o[4]?"Hide":"Show",U,te,M,A,oe="Please provide a working email address.",le,_,J,F,se,I,re='Already have an account? <a href="/login" class="svelte-1jv3cpt">Log in</a>',ae,ie,c=o[3]&&ve(o),v=o[2]&&de(),d=!o[2]&&he();return{c(){a=g(),t=f("div"),e=f("form"),i=f("h1"),i.textContent=L,E=g(),C=f("h1"),C.textContent=z,D=g(),w=f("label"),T=f("span"),T.textContent=q,j=g(),n=f("input"),x=g(),P=f("label"),H=f("span"),H.textContent=ne,$=g(),S=f("div"),h=f("input"),ee=g(),y=f("button"),U=Z(O),te=g(),c&&c.c(),M=g(),A=f("div"),A.textContent=oe,le=g(),_=f("button"),v&&v.c(),J=g(),d&&d.c(),se=g(),I=f("p"),I.innerHTML=re,this.h()},l(r){je("svelte-1vzs0v6",document.head).forEach(m),a=b(r),t=p(r,"DIV",{class:!0});var ce=N(t);e=p(ce,"FORM",{class:!0,autocomplete:!0});var u=N(e);i=p(u,"H1",{class:!0,"data-svelte-h":!0}),B(i)!=="svelte-8xlis3"&&(i.textContent=L),E=b(u),C=p(u,"H1",{class:!0,"data-svelte-h":!0}),B(C)!=="svelte-1ehgcu7"&&(C.textContent=z),D=b(u),w=p(u,"LABEL",{class:!0});var G=N(w);T=p(G,"SPAN",{class:!0,"data-svelte-h":!0}),B(T)!=="svelte-1bg9cgq"&&(T.textContent=q),j=b(G),n=p(G,"INPUT",{type:!0,autocomplete:!0,autocapitalize:!0,spellcheck:!0,inputmode:!0,placeholder:!0,class:!0}),G.forEach(m),x=b(u),P=p(u,"LABEL",{class:!0});var K=N(P);H=p(K,"SPAN",{class:!0,"data-svelte-h":!0}),B(H)!=="svelte-1kvjhoz"&&(H.textContent=ne),$=b(K),S=p(K,"DIV",{class:!0});var Q=N(S);h=p(Q,"INPUT",{type:!0,minlength:!0,autocomplete:!0,placeholder:!0,class:!0}),ee=b(Q),y=p(Q,"BUTTON",{type:!0,class:!0,"aria-label":!0});var ue=N(y);U=Y(ue,O),ue.forEach(m),Q.forEach(m),K.forEach(m),te=b(u),c&&c.l(u),M=b(u),A=p(u,"DIV",{"data-svelte-h":!0}),B(A)!=="svelte-6r39gl"&&(A.textContent=oe),le=b(u),_=p(u,"BUTTON",{class:!0,type:!0});var W=N(_);v&&v.l(W),J=b(W),d&&d.l(W),W.forEach(m),se=b(u),I=p(u,"P",{class:!0,"data-svelte-h":!0}),B(I)!=="svelte-11pbgi7"&&(I.innerHTML=re),u.forEach(m),ce.forEach(m),this.h()},h(){document.title="Register",l(i,"class","text-center svelte-1jv3cpt"),l(C,"class","svelte-1jv3cpt"),l(T,"class","svelte-1jv3cpt"),l(n,"type","email"),n.required=!0,l(n,"autocomplete","email"),l(n,"autocapitalize","off"),l(n,"spellcheck","false"),l(n,"inputmode","email"),l(n,"placeholder","you@example.com"),l(n,"class","svelte-1jv3cpt"),l(w,"class","svelte-1jv3cpt"),l(H,"class","svelte-1jv3cpt"),l(h,"type",R=o[4]?"text":"password"),h.value=o[1],h.required=!0,l(h,"minlength","6"),l(h,"autocomplete","new-password"),l(h,"placeholder","‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"),l(h,"class","svelte-1jv3cpt"),l(y,"type","button"),l(y,"class","toggle svelte-1jv3cpt"),l(y,"aria-label","Toggle password visibility"),l(S,"class","pwd svelte-1jv3cpt"),l(P,"class","svelte-1jv3cpt"),l(_,"class","submit svelte-1jv3cpt"),l(_,"type","submit"),_.disabled=F=o[2]||!o[0]||!o[1],l(I,"class","hint svelte-1jv3cpt"),l(e,"class","card svelte-1jv3cpt"),l(e,"autocomplete","on"),e.noValidate=!0,l(t,"class","wrap svelte-1jv3cpt")},m(r,k){V(r,a,k),V(r,t,k),s(t,e),s(e,i),s(e,E),s(e,C),s(e,D),s(e,w),s(w,T),s(w,j),s(w,n),fe(n,o[0]),s(e,x),s(e,P),s(P,H),s(P,$),s(P,S),s(S,h),s(S,ee),s(S,y),s(y,U),s(e,te),c&&c.m(e,null),s(e,M),s(e,A),s(e,le),s(e,_),v&&v.m(_,null),s(_,J),d&&d.m(_,null),s(e,se),s(e,I),ae||(ie=[X(n,"input",o[6]),X(h,"input",o[7]),X(y,"click",o[8]),X(e,"submit",o[5])],ae=!0)},p(r,[k]){k&1&&n.value!==r[0]&&fe(n,r[0]),k&16&&R!==(R=r[4]?"text":"password")&&l(h,"type",R),k&2&&h.value!==r[1]&&(h.value=r[1]),k&16&&O!==(O=r[4]?"Hide":"Show")&&me(U,O),r[3]?c?c.p(r,k):(c=ve(r),c.c(),c.m(e,M)):c&&(c.d(1),c=null),r[2]?v||(v=de(),v.c(),v.m(_,J)):v&&(v.d(1),v=null),r[2]?d&&(d.d(1),d=null):d||(d=he(),d.c(),d.m(_,null)),k&7&&F!==(F=r[2]||!r[0]||!r[1])&&(_.disabled=F)},i:pe,o:pe,d(r){r&&(m(a),m(t)),c&&c.d(),v&&v.d(),d&&d.d(),ae=!1,Ce(ie)}}}function ye(o,a,t){let e="",i="",L=!1,E="",C=!1;async function z(q){q.preventDefault(),t(3,E=""),t(2,L=!0);try{const j=await fetch("/api/auth/register",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,password:i})}),n=await j.json().catch(()=>({}));if(!j.ok){t(3,E=(n==null?void 0:n.detail)||(n==null?void 0:n.error)||"Registration failed.");return}try{n!=null&&n.token&&localStorage.setItem("token",n.token)}catch{}await ke("/")}catch(j){t(3,E=(j==null?void 0:j.message)??"Network error.")}finally{t(2,L=!1)}}function D(){e=this.value,t(0,e)}return[e,i,L,E,C,z,D,q=>t(1,i=q.target.value),()=>t(4,C=!C)]}class Se extends _e{constructor(a){super(),be(this,a,ye,we,ge,{})}}export{Se as component};
