import{S as N,i as j,s as x,d as p,o as C,m as E,I as w,c as A,b as _,B as D,v as k,G as q,J,e as g,x as M,h as I,j as T,k as L,p as P,q as B,K as F,f as H,w as O,z as R,n as v,D as z,L as G}from"../chunks/DEZxJ6-q.js";import"../chunks/IHki7fMi.js";import{N as K}from"../chunks/9IaPopw-.js";function U(o){let t,n="Load a deck file to start";return{c(){t=T("div"),t.textContent=n,this.h()},l(r){t=g(r,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-bbpyfx"&&(t.textContent=n),this.h()},h(){k(t,"class","flex items-center justify-center h-full svelte-db7og2")},m(r,i){_(r,t,i)},p:v,i:v,o:v,d(r){r&&p(t)}}}function V(o){let t,n,r,i;return r=new K({props:{currentTime:o[1],duration:o[4],onSeek:o[5]}}),{c(){t=T("taleem-slides"),n=L(),R(r.$$.fragment),this.h()},l(e){t=g(e,"TALEEM-SLIDES",{class:!0}),H(t).forEach(p),n=I(e),O(r.$$.fragment,e),this.h()},h(){F(t,"class","svelte-db7og2")},m(e,l){_(e,t,l),o[7](t),_(e,n,l),B(r,e,l),i=!0},p(e,l){const a={};l&2&&(a.currentTime=e[1]),l&16&&(a.duration=e[4]),r.$set(a)},i(e){i||(E(r.$$.fragment,e),i=!0)},o(e){C(r.$$.fragment,e),i=!1},d(e){e&&(p(t),p(n)),o[7](null),P(r,e)}}}function Q(o){let t,n="",r,i,e,l,a,f,d,h,m;const b=[V,U],u=[];function y(s,c){return s[3]&&s[0].length?0:1}return e=y(o),l=u[e]=b[e](o),{c(){t=T("script"),t.innerHTML=n,i=L(),l.c(),a=L(),f=T("input"),this.h()},l(s){const c=J("svelte-1atrt0p",document.head);t=g(c,"SCRIPT",{type:!0,src:!0,"data-svelte-h":!0}),M(t)!=="svelte-1xn108w"&&(t.innerHTML=n),c.forEach(p),i=I(s),l.l(s),a=I(s),f=g(s,"INPUT",{type:!0,accept:!0}),this.h()},h(){k(t,"type","module"),q(t.src,r="/components/taleem-slides/taleem-slides.js")||k(t,"src",r),k(f,"type","file"),k(f,"accept",".json")},m(s,c){A(document.head,t),_(s,i,c),u[e].m(s,c),_(s,a,c),_(s,f,c),d=!0,h||(m=D(f,"change",o[6]),h=!0)},p(s,[c]){let S=e;e=y(s),e===S?u[e].p(s,c):(G(),C(u[S],1,1,()=>{u[S]=null}),w(),l=u[e],l?l.p(s,c):(l=u[e]=b[e](s),l.c()),E(l,1),l.m(a.parentNode,a))},i(s){d||(E(l),d=!0)},o(s){C(l),d=!1},d(s){s&&(p(i),p(a),p(f)),p(t),u[e].d(s),h=!1,m()}}}function W(o=[]){const t=o.map(n=>n.end!=null?n.end:0);return Math.max(0,...t)}function X(o,t,n){let r=[],i=!1,e=0,l=0,a;function f(m){n(1,e=Math.max(0,Math.min(l,m)))}function d(m){const b=m.target.files[0];if(!b)return;const u=new FileReader;u.onload=y=>{try{const s=JSON.parse(y.target.result),c=Array.isArray(s)?s:s&&s.slides?s.slides:s&&s.deck?s.deck:[];n(0,r=c),n(4,l=W(r)||100),n(1,e=0),n(3,i=!0)}catch{alert("Invalid JSON file")}},u.readAsText(b)}function h(m){z[m?"unshift":"push"](()=>{a=m,n(2,a),n(0,r),n(1,e)})}return o.$$.update=()=>{o.$$.dirty&5&&a&&n(2,a.deck=r,a),o.$$.dirty&6&&a&&n(2,a.currentTime=e,a)},[r,e,a,i,l,f,d,h]}class ee extends N{constructor(t){super(),j(this,t,X,Q,x,{})}}export{ee as component};
