import{S as ze,i as Be,s as Oe,n as ee,d as p,e as B,q as F,M as ie,v as M,U as Me,F as fe,f as _,j as C,k as L,l as E,L as Re,E as de,Q as ae,I as we,o as c,J as Q,W as De,G as le,K as Je,p as j,B as X,r as V,m as oe,h as z,a1 as ce,a2 as ue,x as me,t as x,a as $,Z as ke,y as ve,z as ge,A as be,w as Ge,N as He,Y as ye,O as Le,P as re,a3 as We,a4 as Ye}from"../chunks/Z9DZtfMg.js";import{e as ne}from"../chunks/DtyEnmTo.js";import"../chunks/IHki7fMi.js";import{p as Ze}from"../chunks/DYJOHRFY.js";import{N as Ke}from"../chunks/BItVA5Ku.js";import{A as Qe}from"../chunks/-hQ6QV1S.js";function Ce(t,e,l){const n=t.slice();return n[15]=e[l],n[17]=l,n}function Ee(t,e,l){const n=t.slice();return n[18]=e[l],n}function Xe(t){let e,l="No image in this slide.";return{c(){e=E("p"),e.textContent=l,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1xr3n2s"&&(e.textContent=l),this.h()},h(){_(e,"class","text-sm italic text-gray-500")},m(n,s){B(n,e,s)},p:ee,d(n){n&&p(e)}}}function $e(t){let e,l,n,s,i,r,a,u,m,A,v="Arrow",h,q="Circle",d,N,o,b,f,w,O,H,D,T,g=ne(t[0]),y=[];for(let S=0;S<g.length;S+=1)y[S]=Te(Ee(t,g,S));return{c(){e=E("div"),l=E("img"),s=M(),i=E("div");for(let S=0;S<y.length;S+=1)y[S].c();r=M(),a=E("div"),u=V(`Type:
    `),m=E("select"),A=E("option"),A.textContent=v,h=E("option"),h.textContent=q,d=M(),N=E("label"),o=E("input"),b=V(" Blink"),f=M(),w=E("label"),O=E("input"),H=V(" Wiggle"),this.h()},l(S){e=C(S,"DIV",{class:!0});var J=L(e);l=C(J,"IMG",{src:!0,alt:!0,class:!0}),s=F(J),i=C(J,"DIV",{class:!0});var I=L(i);for(let G=0;G<y.length;G+=1)y[G].l(I);I.forEach(p),J.forEach(p),r=F(S),a=C(S,"DIV",{class:!0});var K=L(a);u=j(K,`Type:
    `),m=C(K,"SELECT",{class:!0});var k=L(m);A=C(k,"OPTION",{"data-svelte-h":!0}),X(A)!=="svelte-60dtvc"&&(A.textContent=v),h=C(k,"OPTION",{"data-svelte-h":!0}),X(h)!=="svelte-1qqnilq"&&(h.textContent=q),k.forEach(p),d=F(K),N=C(K,"LABEL",{});var U=L(N);o=C(U,"INPUT",{type:!0,class:!0}),b=j(U," Blink"),U.forEach(p),f=F(K),w=C(K,"LABEL",{});var P=L(w);O=C(P,"INPUT",{type:!0,class:!0}),H=j(P," Wiggle"),P.forEach(p),K.forEach(p),this.h()},h(){ae(l.src,n=t[2])||_(l,"src",n),_(l,"alt","slide"),_(l,"class","bg svelte-1vq3q0e"),_(i,"class","overlay svelte-1vq3q0e"),_(e,"class","wrapper svelte-1vq3q0e"),A.__value="arrow",le(A,A.__value),h.__value="circle",le(h,h.__value),_(m,"class","svelte-1vq3q0e"),t[1].type===void 0&&Je(()=>t[10].call(m)),_(o,"type","checkbox"),_(o,"class","svelte-1vq3q0e"),_(O,"type","checkbox"),_(O,"class","svelte-1vq3q0e"),_(a,"class","toolbar svelte-1vq3q0e")},m(S,J){B(S,e,J),c(e,l),c(e,s),c(e,i);for(let I=0;I<y.length;I+=1)y[I]&&y[I].m(i,null);B(S,r,J),B(S,a,J),c(a,u),c(a,m),c(m,A),c(m,h),we(m,t[1].type,!0),c(a,d),c(a,N),c(N,o),o.checked=t[1].blink,c(N,b),c(a,f),c(a,w),c(w,O),O.checked=t[1].wiggle,c(w,H),D||(T=[Q(e,"click",De(t[3])),Q(m,"change",t[10]),Q(o,"change",t[11]),Q(O,"change",t[12])],D=!0)},p(S,J){if(J&4&&!ae(l.src,n=S[2])&&_(l,"src",n),J&49){g=ne(S[0]);let I;for(I=0;I<g.length;I+=1){const K=Ee(S,g,I);y[I]?y[I].p(K,J):(y[I]=Te(K),y[I].c(),y[I].m(i,null))}for(;I<y.length;I+=1)y[I].d(1);y.length=g.length}J&2&&we(m,S[1].type),J&2&&(o.checked=S[1].blink),J&2&&(O.checked=S[1].wiggle)},d(S){S&&(p(e),p(r),p(a)),fe(y,S),D=!1,de(T)}}}function xe(t){let e,l;return{c(){e=ue("svg"),l=ue("path"),this.h()},l(n){e=ce(n,"svg",{viewBox:!0,class:!0});var s=L(e);l=ce(s,"path",{d:!0,"stroke-width":!0,fill:!0}),L(l).forEach(p),s.forEach(p),this.h()},h(){_(l,"d","M2 12l20 0M14 6l8 6-8 6"),_(l,"stroke-width","2"),_(l,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"class","svelte-1vq3q0e")},m(n,s){B(n,e,s),c(e,l)},d(n){n&&p(e)}}}function et(t){let e,l;return{c(){e=ue("svg"),l=ue("circle"),this.h()},l(n){e=ce(n,"svg",{viewBox:!0,class:!0});var s=L(e);l=ce(s,"circle",{cx:!0,cy:!0,r:!0}),L(l).forEach(p),s.forEach(p),this.h()},h(){_(l,"cx","12"),_(l,"cy","12"),_(l,"r","9"),_(e,"viewBox","0 0 24 24"),_(e,"class","svelte-1vq3q0e")},m(n,s){B(n,e,s),c(e,l)},d(n){n&&p(e)}}}function Te(t){let e,l,n,s="Ã—",i,r,a,u;function m(q,d){return q[18].type==="circle"?et:xe}let A=m(t),v=A(t);function h(){return t[9](t[18])}return{c(){e=E("div"),v.c(),l=M(),n=E("span"),n.textContent=s,i=M(),this.h()},l(q){e=C(q,"DIV",{class:!0,style:!0});var d=L(e);v.l(d),l=F(d),n=C(d,"SPAN",{class:!0,"data-svelte-h":!0}),X(n)!=="svelte-1f34jcx"&&(n.textContent=s),i=F(d),d.forEach(p),this.h()},h(){_(n,"class","delete svelte-1vq3q0e"),_(e,"class",r="pointer "+t[18].type+" "+(t[18].blink?"blink":"")+" "+(t[18].wiggle?"wiggle":"")+" svelte-1vq3q0e"),z(e,"left",t[18].x+"% "),z(e,"top",t[18].y+"% "),z(e,"opacity",t[5](t[18])?1:0)},m(q,d){B(q,e,d),v.m(e,null),c(e,l),c(e,n),c(e,i),a||(u=Q(n,"click",De(h)),a=!0)},p(q,d){t=q,A!==(A=m(t))&&(v.d(1),v=A(t),v&&(v.c(),v.m(e,l))),d&1&&r!==(r="pointer "+t[18].type+" "+(t[18].blink?"blink":"")+" "+(t[18].wiggle?"wiggle":"")+" svelte-1vq3q0e")&&_(e,"class",r),d&1&&z(e,"left",t[18].x+"% "),d&1&&z(e,"top",t[18].y+"% "),d&1&&z(e,"opacity",t[5](t[18])?1:0)},d(q){q&&p(e),v.d(),a=!1,u()}}}function qe(t){let e,l=ne(t[0]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Ne(Ce(t,l,s));return{c(){e=E("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=C(s,"DIV",{class:!0});var i=L(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(p),this.h()},h(){_(e,"class","pointer-list svelte-1vq3q0e")},m(s,i){B(s,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(s,i){if(i&17){l=ne(s[0]);let r;for(r=0;r<l.length;r+=1){const a=Ce(s,l,r);n[r]?n[r].p(a,i):(n[r]=Ne(a),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(s){s&&p(e),fe(n,s)}}}function Ne(t){let e,l=t[17]+1+"",n,s,i=t[15].type+"",r,a,u,m;function A(){return t[13](t[15])}return{c(){e=E("span"),n=V(l),s=V(". "),r=V(i),a=V(` Ã—
      `),this.h()},l(v){e=C(v,"SPAN",{class:!0});var h=L(e);n=j(h,l),s=j(h,". "),r=j(h,i),a=j(h,` Ã—
      `),h.forEach(p),this.h()},h(){_(e,"class","pill svelte-1vq3q0e")},m(v,h){B(v,e,h),c(e,n),c(e,s),c(e,r),c(e,a),u||(m=Q(e,"click",A),u=!0)},p(v,h){t=v,h&1&&i!==(i=t[15].type+"")&&oe(r,i)},d(v){v&&p(e),u=!1,m()}}}function tt(t){let e,l;function n(a,u){return a[2]?$e:Xe}let s=n(t),i=s(t),r=t[0].length&&qe(t);return{c(){i.c(),e=M(),r&&r.c(),l=ie()},l(a){i.l(a),e=F(a),r&&r.l(a),l=ie()},m(a,u){i.m(a,u),B(a,e,u),r&&r.m(a,u),B(a,l,u)},p(a,[u]){s===(s=n(a))&&i?i.p(a,u):(i.d(1),i=s(a),i&&(i.c(),i.m(e.parentNode,e))),a[0].length?r?r.p(a,u):(r=qe(a),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i:ee,o:ee,d(a){a&&(p(e),p(l)),i.d(a),r&&r.d(a)}}}function lt(t,e,l){return{x:Math.round(t/l.width*100),y:Math.round(e/l.height*100)}}function nt(t,e,l){let n,s,i,{slide:r}=e,{currentTime:a=0}=e;const u=Me();let m={type:"arrow",blink:!1,wiggle:!1};function A(f){if(!s)return;const w=f.currentTarget.getBoundingClientRect(),{x:O,y:H}=lt(f.clientX-w.left,f.clientY-w.top,w);l(6,r.data=[...r.data,{name:"pointer",x:O,y:H,showAt:Math.round(a),hideAt:void 0,...m}],r),u("edit")}function v(f){l(6,r.data=r.data.filter(w=>w!==f),r),u("edit")}function h(f){const w=f.showAt??r.start,O=f.hideAt??r.end;return a>=w&&a<=O}const q=f=>v(f);function d(){m.type=Re(this),l(1,m)}function N(){m.blink=this.checked,l(1,m)}function o(){m.wiggle=this.checked,l(1,m)}const b=f=>v(f);return t.$$set=f=>{"slide"in f&&l(6,r=f.slide),"currentTime"in f&&l(7,a=f.currentTime)},t.$$.update=()=>{var f,w;t.$$.dirty&64&&l(8,n=(f=r==null?void 0:r.data)==null?void 0:f.find(O=>O.name==="image")),t.$$.dirty&256&&l(2,s=(n==null?void 0:n.content)??(n==null?void 0:n.image)??(n==null?void 0:n.imageUrl)??null),t.$$.dirty&64&&l(0,i=((w=r==null?void 0:r.data)==null?void 0:w.filter(O=>O.name==="pointer"))??[]),t.$$.dirty&1&&console.log("pointerItems",i)},[i,m,s,A,v,h,r,a,n,q,d,N,o,b]}class st extends ze{constructor(e){super(),Be(this,e,nt,tt,Oe,{slide:6,currentTime:7})}}function Ae(t,e,l){const n=t.slice();return n[28]=e[l],n[29]=e,n[30]=l,n}function Se(t,e,l){const n=t.slice();return n[31]=e[l],n[32]=e,n[33]=l,n}function rt(t){let e,l,n,s=t[4].toFixed(2)+"",i,r,a,u,m;function A(o,b){return o[7]?ct:at}let v=A(t),h=v(t),q=ne(t[0].deck),d=[];for(let o=0;o<q.length;o+=1)d[o]=Ie(Ae(t,q,o));const N=o=>x(d[o],1,1,()=>{d[o]=null});return{c(){h.c(),e=M(),l=E("div"),n=V("Current Time: "),i=V(s),r=V("s"),a=M();for(let o=0;o<d.length;o+=1)d[o].c();u=ie(),this.h()},l(o){h.l(o),e=F(o),l=C(o,"DIV",{class:!0});var b=L(l);n=j(b,"Current Time: "),i=j(b,s),r=j(b,"s"),b.forEach(p),a=F(o);for(let f=0;f<d.length;f+=1)d[f].l(o);u=ie(),this.h()},h(){_(l,"class","time-display svelte-z7ly11")},m(o,b){h.m(o,b),B(o,e,b),B(o,l,b),c(l,n),c(l,i),c(l,r),B(o,a,b);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(o,b);B(o,u,b),m=!0},p(o,b){if(v===(v=A(o))&&h?h.p(o,b):(h.d(1),h=v(o),h&&(h.c(),h.m(e.parentNode,e))),(!m||b[0]&16)&&s!==(s=o[4].toFixed(2)+"")&&oe(i,s),b[0]&3921){q=ne(o[0].deck);let f;for(f=0;f<q.length;f+=1){const w=Ae(o,q,f);d[f]?(d[f].p(w,b),$(d[f],1)):(d[f]=Ie(w),d[f].c(),$(d[f],1),d[f].m(u.parentNode,u))}for(ye(),f=q.length;f<d.length;f+=1)N(f);ke()}},i(o){if(!m){for(let b=0;b<q.length;b+=1)$(d[b]);m=!0}},o(o){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)x(d[b]);m=!1},d(o){o&&(p(e),p(l),p(a),p(u)),h.d(o),fe(d,o)}}}function it(t){let e,l="Loading deckâ€¦";return{c(){e=E("p"),e.textContent=l,this.h()},l(n){e=C(n,"P",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-88q0iq"&&(e.textContent=l),this.h()},h(){_(e,"class","centered svelte-z7ly11")},m(n,s){B(n,e,s)},p:ee,i:ee,o:ee,d(n){n&&p(e)}}}function ot(t){let e,l,n;return{c(){e=E("p"),l=V("Error: "),n=V(t[2]),this.h()},l(s){e=C(s,"P",{class:!0});var i=L(e);l=j(i,"Error: "),n=j(i,t[2]),i.forEach(p),this.h()},h(){_(e,"class","error svelte-z7ly11")},m(s,i){B(s,e,i),c(e,l),c(e,n)},p(s,i){i[0]&4&&oe(n,s[2])},i:ee,o:ee,d(s){s&&p(e)}}}function at(t){let e,l="ðŸ’¡ Sound not found";return{c(){e=E("h1"),e.textContent=l,this.h()},l(n){e=C(n,"H1",{style:!0,"data-svelte-h":!0}),X(e)!=="svelte-km9r49"&&(e.textContent=l),this.h()},h(){z(e,"width","100%"),z(e,"border","2px solid #facc15"),z(e,"border-radius","0.375rem"),z(e,"text-align","center"),z(e,"font-size","1.2rem"),z(e,"padding","6px"),z(e,"margin","2px"),z(e,"background-color","#0f4502")},m(n,s){B(n,e,s)},p:ee,d(n){n&&p(e)}}}function ct(t){let e,l,n;return{c(){e=E("div"),l=E("audio"),this.h()},l(s){e=C(s,"DIV",{class:!0});var i=L(e);l=C(i,"AUDIO",{src:!0,class:!0}),L(l).forEach(p),i.forEach(p),this.h()},h(){ae(l.src,n=t[5])||_(l,"src",n),l.controls=!0,_(l,"class","w-full"),_(e,"class","audio-panel svelte-z7ly11")},m(s,i){B(s,e,i),c(e,l),t[14](l)},p(s,i){i[0]&32&&!ae(l.src,n=s[5])&&_(l,"src",n)},d(s){s&&p(e),t[14](null)}}}function Pe(t){let e,l,n;function s(r){t[16](r,t[28],t[29],t[30])}let i={currentTime:t[4]};return t[28]!==void 0&&(i.slide=t[28]),e=new st({props:i}),Le.push(()=>We(e,"slide",s)),e.$on("edit",t[17]),{c(){be(e.$$.fragment)},l(r){ge(e.$$.fragment,r)},m(r,a){ve(e,r,a),n=!0},p(r,a){t=r;const u={};a[0]&16&&(u.currentTime=t[4]),!l&&a[0]&1&&(l=!0,u.slide=t[28],Ye(()=>l=!1)),e.$set(u)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){x(e.$$.fragment,r),n=!1},d(r){me(e,r)}}}function Ue(t){let e,l,n,s,i,r="ShowAt = 0",a,u,m="ShowAt = Now",A,v=(t[31].name||t[31].type)+"",h,q,d=t[31].content+"",N,o,b,f;function w(){t[18].call(n,t[32],t[33])}function O(){return t[19](t[31])}function H(){return t[20](t[31])}return{c(){e=E("div"),l=V(`showAt:
          `),n=E("input"),s=M(),i=E("button"),i.textContent=r,a=M(),u=E("button"),u.textContent=m,A=V(`
          â€¢ `),h=V(v),q=V(': "'),N=V(d),o=V('"'),this.h()},l(D){e=C(D,"DIV",{class:!0});var T=L(e);l=j(T,`showAt:
          `),n=C(T,"INPUT",{type:!0,step:!0,class:!0}),s=F(T),i=C(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-1hxjcen"&&(i.textContent=r),a=F(T),u=C(T,"BUTTON",{class:!0,"data-svelte-h":!0}),X(u)!=="svelte-9kb0me"&&(u.textContent=m),A=j(T,`
          â€¢ `),h=j(T,v),q=j(T,': "'),N=j(T,d),o=j(T,'"'),T.forEach(p),this.h()},h(){_(n,"type","number"),_(n,"step","0.0"),_(n,"class","svelte-z7ly11"),_(i,"class","set-show-zero svelte-z7ly11"),_(u,"class","set-show svelte-z7ly11"),_(e,"class","item svelte-z7ly11")},m(D,T){B(D,e,T),c(e,l),c(e,n),le(n,t[31].showAt),c(e,s),c(e,i),c(e,a),c(e,u),c(e,A),c(e,h),c(e,q),c(e,N),c(e,o),b||(f=[Q(n,"input",w),Q(i,"click",O),Q(u,"click",H)],b=!0)},p(D,T){t=D,T[0]&1&&re(n.value)!==t[31].showAt&&le(n,t[31].showAt),T[0]&1&&v!==(v=(t[31].name||t[31].type)+"")&&oe(h,v),T[0]&1&&d!==(d=t[31].content+"")&&oe(N,d)},d(D){D&&p(e),b=!1,de(f)}}}function Ie(t){let e,l,n,s,i=t[30]+1+"",r,a,u=t[28].type+"",m,A,v,h="Set Start = Now",q,d,N,o,b,f,w,O,H,D,T,g,y,S="Set End = Now",J,I,K,k;function U(){return t[15](t[30])}let P=t[28].type==="pointerSlide"&&Pe(t),G=ne(t[28].data),Z=[];for(let W=0;W<G.length;W+=1)Z[W]=Ue(Se(t,G,W));function je(){t[21].call(w,t[29],t[30])}function Ve(){t[22].call(T,t[29],t[30])}function Fe(){return t[23](t[30])}return{c(){e=E("div"),l=E("div"),n=E("strong"),s=V("Slide "),r=V(i),a=V(" â€” "),m=V(u),A=M(),v=E("button"),v.textContent=h,q=M(),P&&P.c(),d=M();for(let W=0;W<Z.length;W+=1)Z[W].c();N=M(),o=E("div"),b=E("label"),f=V(`Start:
          `),w=E("input"),O=M(),H=E("label"),D=V(`End:
          `),T=E("input"),g=M(),y=E("button"),y.textContent=S,J=M(),this.h()},l(W){e=C(W,"DIV",{class:!0});var Y=L(e);l=C(Y,"DIV",{class:!0});var R=L(l);n=C(R,"STRONG",{});var te=L(n);s=j(te,"Slide "),r=j(te,i),a=j(te," â€” "),m=j(te,u),te.forEach(p),A=F(R),v=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-1jui6sd"&&(v.textContent=h),R.forEach(p),q=F(Y),P&&P.l(Y),d=F(Y);for(let pe=0;pe<Z.length;pe+=1)Z[pe].l(Y);N=F(Y),o=C(Y,"DIV",{style:!0});var se=L(o);b=C(se,"LABEL",{});var he=L(b);f=j(he,`Start:
          `),w=C(he,"INPUT",{type:!0,step:!0,class:!0}),he.forEach(p),O=F(se),H=C(se,"LABEL",{style:!0});var _e=L(H);D=j(_e,`End:
          `),T=C(_e,"INPUT",{type:!0,step:!0,class:!0}),_e.forEach(p),g=F(se),y=C(se,"BUTTON",{class:!0,"data-svelte-h":!0}),X(y)!=="svelte-r1greb"&&(y.textContent=S),se.forEach(p),J=F(Y),Y.forEach(p),this.h()},h(){_(v,"class","set-start svelte-z7ly11"),v.disabled=t[30]===0,_(l,"class","slide-header svelte-z7ly11"),_(w,"type","number"),_(w,"step","0.01"),_(w,"class","svelte-z7ly11"),_(T,"type","number"),_(T,"step","0.01"),_(T,"class","svelte-z7ly11"),z(H,"margin-left","1rem"),_(y,"class","set-end svelte-z7ly11"),z(o,"display","flex"),z(o,"align-items","center"),z(o,"margin-top","0.5rem"),_(e,"class","slide svelte-z7ly11")},m(W,Y){B(W,e,Y),c(e,l),c(l,n),c(n,s),c(n,r),c(n,a),c(n,m),c(l,A),c(l,v),c(e,q),P&&P.m(e,null),c(e,d);for(let R=0;R<Z.length;R+=1)Z[R]&&Z[R].m(e,null);c(e,N),c(e,o),c(o,b),c(b,f),c(b,w),le(w,t[28].start),c(o,O),c(o,H),c(H,D),c(H,T),le(T,t[28].end),c(o,g),c(o,y),c(e,J),I=!0,K||(k=[Q(v,"click",U),Q(w,"input",je),Q(T,"input",Ve),Q(y,"click",Fe)],K=!0)},p(W,Y){if(t=W,(!I||Y[0]&1)&&u!==(u=t[28].type+"")&&oe(m,u),t[28].type==="pointerSlide"?P?(P.p(t,Y),Y[0]&1&&$(P,1)):(P=Pe(t),P.c(),$(P,1),P.m(e,d)):P&&(ye(),x(P,1,1,()=>{P=null}),ke()),Y[0]&3073){G=ne(t[28].data);let R;for(R=0;R<G.length;R+=1){const te=Se(t,G,R);Z[R]?Z[R].p(te,Y):(Z[R]=Ue(te),Z[R].c(),Z[R].m(e,N))}for(;R<Z.length;R+=1)Z[R].d(1);Z.length=G.length}Y[0]&1&&re(w.value)!==t[28].start&&le(w,t[28].start),Y[0]&1&&re(T.value)!==t[28].end&&le(T,t[28].end)},i(W){I||($(P),I=!0)},o(W){x(P),I=!1},d(W){W&&p(e),P&&P.d(),fe(Z,W),K=!1,de(k)}}}function ut(t){let e,l,n,s,i,r="ðŸ’¡ Timing Page",a,u,m,A="Save",v,h,q="Save and Download",d,N,o,b,f,w,O;e=new Ke({}),n=new Qe({});const H=[ot,it,rt],D=[];function T(g,y){return g[2]?0:g[1]?2:1}return N=T(t),o=D[N]=H[N](t),{c(){be(e.$$.fragment),l=M(),be(n.$$.fragment),s=M(),i=E("h1"),i.textContent=r,a=M(),u=E("div"),m=E("button"),m.textContent=A,v=M(),h=E("button"),h.textContent=q,d=M(),o.c(),b=ie(),this.h()},l(g){ge(e.$$.fragment,g),l=F(g),ge(n.$$.fragment,g),s=F(g),i=C(g,"H1",{style:!0,"data-svelte-h":!0}),X(i)!=="svelte-b6baqi"&&(i.textContent=r),a=F(g),u=C(g,"DIV",{class:!0,style:!0});var y=L(u);m=C(y,"BUTTON",{class:!0,"data-svelte-h":!0}),X(m)!=="svelte-mcs0te"&&(m.textContent=A),v=F(y),h=C(y,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),X(h)!=="svelte-cj91f7"&&(h.textContent=q),y.forEach(p),d=F(g),o.l(g),b=ie(),this.h()},h(){z(i,"width","100%"),z(i,"border","2px solid #facc15"),z(i,"border-radius","0.375rem"),z(i,"text-align","center"),z(i,"font-size","1.2rem"),z(i,"padding","6px"),z(i,"margin","2px"),z(i,"background-color","#0f4502"),_(m,"class","btn svelte-z7ly11"),_(h,"class","btn svelte-z7ly11"),z(h,"margin-left","0.5rem"),_(u,"class","timing-actions"),z(u,"margin","1rem 0")},m(g,y){ve(e,g,y),B(g,l,y),ve(n,g,y),B(g,s,y),B(g,i,y),B(g,a,y),B(g,u,y),c(u,m),c(u,v),c(u,h),B(g,d,y),D[N].m(g,y),B(g,b,y),f=!0,w||(O=[Q(m,"click",t[12]),Q(h,"click",t[13])],w=!0)},p(g,y){let S=N;N=T(g),N===S?D[N].p(g,y):(ye(),x(D[S],1,1,()=>{D[S]=null}),ke(),o=D[N],o?o.p(g,y):(o=D[N]=H[N](g),o.c()),$(o,1),o.m(b.parentNode,b))},i(g){f||($(e.$$.fragment,g),$(n.$$.fragment,g),$(o),f=!0)},o(g){x(e.$$.fragment,g),x(n.$$.fragment,g),x(o),f=!1},d(g){g&&(p(l),p(s),p(i),p(a),p(u),p(d),p(b)),me(e,g),me(n,g),D[N].d(g),w=!1,de(O)}}}function ft(t,e,l){let n;Ge(t,Ze,k=>l(24,n=k));let s=null,i=!1,r="",a=null,u=0,m="/sounds/default.opus";const A=()=>{a&&l(4,u=a.currentTime),requestAnimationFrame(A)};function v(k){if(!(s!=null&&s.deck))return;const U=parseFloat(u.toFixed(2));l(0,s.deck[k].end=U,s),s.deck[k+1]&&l(0,s.deck[k+1].start=U,s),l(0,s={...s})}function h(k){if(!(s!=null&&s.deck)||k===0)return;const U=parseFloat(u.toFixed(2));l(0,s.deck[k-1].end=U,s),l(0,s.deck[k].start=U,s),l(0,s={...s})}function q(k){k.showAt=parseFloat(u.toFixed(1)),l(0,s={...s})}function d(k){k.showAt=0,l(0,s={...s})}async function N(){const k=n.url.searchParams.get("filename")??"",U=await fetch(`/admin/timings?filename=${encodeURIComponent(k)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!U.ok){let P;try{const G=await U.json();P=G.error??JSON.stringify(G)}catch{P=await U.text()}return alert(`âŒ Save failed: ${P}`),!1}return alert("âœ… Save successful"),!0}async function o(){await N()&&b()}function b(){const k=n.url.searchParams.get("filename")??"deck",U=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),P=URL.createObjectURL(U),G=document.createElement("a");G.href=P,G.download=`${k}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(P)}let f=!1,w=!1;He(async()=>{A();const k=n.url.searchParams.get("filename");if(!k){l(2,r="No filename provided");return}try{(await fetch(`/sounds/${k}.opus`,{method:"HEAD"})).ok&&(l(5,m=`/sounds/${k}.opus`),l(7,w=!0))}catch{}try{const U=await fetch(`/admin/timings?filename=${encodeURIComponent(k)}`);if(!U.ok){const P=await U.json();throw new Error(P.error||U.statusText)}l(0,s=await U.json()),l(1,i=!0)}catch(U){l(2,r=U.message)}});function O(k){Le[k?"unshift":"push"](()=>{a=k,l(3,a)})}const H=k=>h(k);function D(k,U,P,G){P[G]=k,l(0,s)}const T=()=>l(6,f=!0);function g(k,U){k[U].showAt=re(this.value),l(0,s)}const y=k=>d(k),S=k=>q(k);function J(k,U){k[U].start=re(this.value),l(0,s)}function I(k,U){k[U].end=re(this.value),l(0,s)}return[s,i,r,a,u,m,f,w,v,h,q,d,N,o,O,H,D,T,g,y,S,J,I,k=>v(k)]}class gt extends ze{constructor(e){super(),Be(this,e,ft,ut,Oe,{},null,[-1,-1])}}export{gt as component};
