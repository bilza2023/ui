import{S as Q,i as R,s as H,n as q,d as m,G as $,f as E,x as p,j as g,k as y,o as b,W as ie,E as J,h as v,J as A,A as B,m as S,q as N,e as j,l as z,p as P,Q as K,R as X,N as D,v as M,t as T,a as O,_ as ae,w as F,y as G,z as L,M as oe,Z as ce}from"../chunks/MRdXX-TE.js";import"../chunks/IHki7fMi.js";import{N as fe}from"../chunks/DnkUNHIT.js";import{e as V}from"../chunks/ReGSdYAt.js";function Y(r,e,n){const s=r.slice();return s[8]=e[n],s}function ue(r){let e,n="â˜°",s,l;return{c(){e=b("button"),e.textContent=n,this.h()},l(i){e=g(i,"BUTTON",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-mwnr5p"&&(e.textContent=n),this.h()},h(){p(e,"class","toggle-btn collapsed svelte-cc2cz7")},m(i,t){E(i,e,t),s||(l=A(e,"click",r[7]),s=!0)},p:q,d(i){i&&m(e),s=!1,l()}}}function he(r){let e,n,s="â—„ Collapse",l,i,t="Chapters",f,a,o,u=V(r[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=x(Y(r,u,d));return{c(){e=b("div"),n=b("button"),n.textContent=s,l=N(),i=b("h3"),i.textContent=t,f=N();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=g(d,"DIV",{class:!0});var _=y(e);n=g(_,"BUTTON",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-mjwlsp"&&(n.textContent=s),l=S(_),i=g(_,"H3",{class:!0,"data-svelte-h":!0}),B(i)!=="svelte-19m811g"&&(i.textContent=t),f=S(_);for(let h=0;h<c.length;h+=1)c[h].l(_);_.forEach(m),this.h()},h(){p(n,"class","toggle-btn svelte-cc2cz7"),p(i,"class","text-center text-[#EAB308]"),p(e,"class","chapter-list svelte-cc2cz7")},m(d,_){E(d,e,_),v(e,n),v(e,l),v(e,i),v(e,f);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(e,null);a||(o=A(n,"click",r[5]),a=!0)},p(d,_){if(_&11){u=V(d[0]);let h;for(h=0;h<u.length;h+=1){const C=Y(d,u,h);c[h]?c[h].p(C,_):(c[h]=x(C),c[h].c(),c[h].m(e,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}},d(d){d&&m(e),J(c,d),a=!1,o()}}}function x(r){let e,n=(r[8].name.length>30?r[8].name.slice(0,30)+"...":r[8].name)+"",s,l,i,t;function f(){return r[6](r[8])}return{c(){e=b("button"),s=P(n),l=N(),this.h()},l(a){e=g(a,"BUTTON",{class:!0});var o=y(e);s=z(o,n),l=S(o),o.forEach(m),this.h()},h(){var a;p(e,"class","chapter-btn svelte-cc2cz7"),$(e,"selected",((a=r[1])==null?void 0:a.filename)===r[8].filename)},m(a,o){E(a,e,o),v(e,s),v(e,l),i||(t=A(e,"click",f),i=!0)},p(a,o){var u;r=a,o&1&&n!==(n=(r[8].name.length>30?r[8].name.slice(0,30)+"...":r[8].name)+"")&&j(s,n),o&3&&$(e,"selected",((u=r[1])==null?void 0:u.filename)===r[8].filename)},d(a){a&&m(e),i=!1,t()}}}function de(r){let e;function n(i,t){return i[2]?he:ue}let s=n(r),l=s(r);return{c(){e=b("div"),l.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var t=y(e);l.l(t),t.forEach(m),this.h()},h(){p(e,"class","sidebar svelte-cc2cz7"),$(e,"open",r[2])},m(i,t){E(i,e,t),l.m(e,null)},p(i,[t]){s===(s=n(i))&&l?l.p(i,t):(l.d(1),l=s(i),l&&(l.c(),l.m(e,null))),t&4&&$(e,"open",i[2])},i:q,o:q,d(i){i&&m(e),l.d()}}}function _e(r,e,n){let{chapters:s=[]}=e,{selectedChapter:l=null}=e,{isSidebarOpen:i=!0}=e;function t(c){f("select",{chapter:c})}const f=ie(),a=()=>f("toggle"),o=c=>t(c),u=()=>f("toggle");return r.$$set=c=>{"chapters"in c&&n(0,s=c.chapters),"selectedChapter"in c&&n(1,l=c.selectedChapter),"isSidebarOpen"in c&&n(2,i=c.isSidebarOpen)},[s,l,i,t,f,a,o,u]}class me extends Q{constructor(e){super(),R(this,e,_e,de,H,{chapters:0,selectedChapter:1,isSidebarOpen:2})}}function ee(r,e,n){const s=r.slice();return s[6]=e[n],s}function te(r){let e,n=r[6].name+"",s,l,i,t;function f(){return r[4](r[6])}return{c(){e=b("button"),s=P(n),l=N(),this.h()},l(a){e=g(a,"BUTTON",{class:!0});var o=y(e);s=z(o,n),l=S(o),o.forEach(m),this.h()},h(){var a;p(e,"class","exercise-btn svelte-1g1gray"),$(e,"selected",((a=r[1])==null?void 0:a.filename)===r[6].filename)},m(a,o){E(a,e,o),v(e,s),v(e,l),i||(t=A(e,"click",f),i=!0)},p(a,o){var u;r=a,o&1&&n!==(n=r[6].name+"")&&j(s,n),o&3&&$(e,"selected",((u=r[1])==null?void 0:u.filename)===r[6].filename)},d(a){a&&m(e),i=!1,t()}}}function pe(r){let e,n,s="All",l,i,t,f=V(r[0]),a=[];for(let o=0;o<f.length;o+=1)a[o]=te(ee(r,f,o));return{c(){e=b("div"),n=b("button"),n.textContent=s,l=N();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=g(o,"DIV",{class:!0});var u=y(e);n=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-vghtop"&&(n.textContent=s),l=S(u);for(let c=0;c<a.length;c+=1)a[c].l(u);u.forEach(m),this.h()},h(){p(n,"class","exercise-btn svelte-1g1gray"),$(n,"selected",!r[1]),p(e,"class","exercise-nav svelte-1g1gray")},m(o,u){E(o,e,u),v(e,n),v(e,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);i||(t=A(n,"click",r[3]),i=!0)},p(o,[u]){if(u&2&&$(n,"selected",!o[1]),u&7){f=V(o[0]);let c;for(c=0;c<f.length;c+=1){const d=ee(o,f,c);a[c]?a[c].p(d,u):(a[c]=te(d),a[c].c(),a[c].m(e,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=f.length}},i:q,o:q,d(o){o&&m(e),J(a,o),i=!1,t()}}}function ve(r,e,n){let{exercises:s=[]}=e,{selectedExercise:l=null}=e;function i(o){t("select",{exercise:o})}const t=ie(),f=()=>i(null),a=o=>i(o);return r.$$set=o=>{"exercises"in o&&n(0,s=o.exercises),"selectedExercise"in o&&n(1,l=o.selectedExercise)},[s,l,i,f,a]}class ge extends Q{constructor(e){super(),R(this,e,ve,pe,H,{exercises:0,selectedExercise:1})}}function le(r,e,n){const s=r.slice();return s[1]=e[n],s}function be(r){let e,n="No questions available for this selection.";return{c(){e=b("p"),e.textContent=n,this.h()},l(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-pjfwhw"&&(e.textContent=n),this.h()},h(){p(e,"class","no-questions svelte-17v39n3")},m(s,l){E(s,e,l)},p:q,d(s){s&&m(e)}}}function ke(r){let e,n=V(r[0]),s=[];for(let l=0;l<n.length;l+=1)s[l]=se(le(r,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=K()},l(l){for(let i=0;i<s.length;i+=1)s[i].l(l);e=K()},m(l,i){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(l,i);E(l,e,i)},p(l,i){if(i&1){n=V(l[0]);let t;for(t=0;t<n.length;t+=1){const f=le(l,n,t);s[t]?s[t].p(f,i):(s[t]=se(f),s[t].c(),s[t].m(e.parentNode,e))}for(;t<s.length;t+=1)s[t].d(1);s.length=n.length}},d(l){l&&m(e),J(s,l)}}}function se(r){let e,n,s,l,i,t,f,a=I(r[1]).icon+"",o,u,c,d=r[1].name+"",_,h,C;return{c(){e=b("a"),n=b("img"),i=N(),t=b("div"),f=b("span"),o=P(a),u=P(` 
         Â  
         `),c=b("span"),_=P(d),h=N(),this.h()},l(k){e=g(k,"A",{class:!0,href:!0,style:!0});var w=y(e);n=g(w,"IMG",{class:!0,src:!0,alt:!0}),i=S(w),t=g(w,"DIV",{class:!0,style:!0});var U=y(t);f=g(U,"SPAN",{style:!0});var W=y(f);o=z(W,a),W.forEach(m),u=z(U,` 
         Â  
         `),c=g(U,"SPAN",{style:!0});var Z=y(c);_=z(Z,d),Z.forEach(m),U.forEach(m),h=S(w),w.forEach(m),this.h()},h(){p(n,"class","thumb svelte-17v39n3"),X(n.src,s=ne(r[1]))||p(n,"src",s),p(n,"alt",l=r[1].name),D(f,"font-size","1.25rem"),D(c,"font-size","1rem"),p(t,"class","title svelte-17v39n3"),D(t,"background-color",I(r[1]).color),p(e,"class","card svelte-17v39n3"),p(e,"href",C=r[1].type==="note"?`/notes/${r[1].filename}`:`/player?filename=${r[1].filename}`),D(e,"border","4px solid "+I(r[1]).color)},m(k,w){E(k,e,w),v(e,n),v(e,i),v(e,t),v(t,f),v(f,o),v(t,u),v(t,c),v(c,_),v(e,h)},p(k,w){w&1&&!X(n.src,s=ne(k[1]))&&p(n,"src",s),w&1&&l!==(l=k[1].name)&&p(n,"alt",l),w&1&&a!==(a=I(k[1]).icon+"")&&j(o,a),w&1&&d!==(d=k[1].name+"")&&j(_,d),w&1&&D(t,"background-color",I(k[1]).color),w&1&&C!==(C=k[1].type==="note"?`/notes/${k[1].filename}`:`/player?filename=${k[1].filename}`)&&p(e,"href",C),w&1&&D(e,"border","4px solid "+I(k[1]).color)},d(k){k&&m(e)}}}function Ce(r){let e;function n(i,t){return i[0].length>0?ke:be}let s=n(r),l=s(r);return{c(){e=b("div"),l.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var t=y(e);l.l(t),t.forEach(m),this.h()},h(){p(e,"class","question-grid svelte-17v39n3")},m(i,t){E(i,e,t),l.m(e,null)},p(i,[t]){s===(s=n(i))&&l?l.p(i,t):(l.d(1),l=s(i),l&&(l.c(),l.m(e,null)))},i:q,o:q,d(i){i&&m(e),l.d()}}}function ne(r){return r.thumbnail??(r.type==="slide"?"/images/slide.webp":"/images/beakers2.webp")}function I(r){switch(r.type){case"slide":return{color:"#492d08",icon:"ðŸ“·"};case"note":return{color:"#6c430b",icon:"ðŸ“š"};case"deck":return{color:"#0c0535",icon:"ðŸ“½ï¸"};default:return{color:"#2E1C02",icon:""}}}function Ee(r,e,n){let{questions:s=[]}=e;return r.$$set=l=>{"questions"in l&&n(0,s=l.questions)},[s]}class we extends Q{constructor(e){super(),R(this,e,Ee,Ce,H,{questions:0})}}async function ye(r){const e=await fetch(`/data/syllabus/${r}.json`);if(!e.ok)throw new Error(`Failed to load syllabus for ${r}`);return await e.json()}function re(r){let e,n,s,l,i,t;e=new me({props:{chapters:r[3],selectedChapter:r[1],isSidebarOpen:r[4]}}),e.$on("select",r[7]),e.$on("toggle",r[9]);const f=[$e,qe],a=[];function o(u,c){return u[1]?0:1}return l=o(r),i=a[l]=f[l](r),{c(){L(e.$$.fragment),n=N(),s=b("div"),i.c(),this.h()},l(u){G(e.$$.fragment,u),n=S(u),s=g(u,"DIV",{class:!0});var c=y(s);i.l(c),c.forEach(m),this.h()},h(){p(s,"class","main-content svelte-l59yb"),$(s,"sidebar-open",r[4])},m(u,c){F(e,u,c),E(u,n,c),E(u,s,c),a[l].m(s,null),t=!0},p(u,c){const d={};c&8&&(d.chapters=u[3]),c&2&&(d.selectedChapter=u[1]),c&16&&(d.isSidebarOpen=u[4]),e.$set(d);let _=l;l=o(u),l===_?a[l].p(u,c):(ce(),T(a[_],1,1,()=>{a[_]=null}),ae(),i=a[l],i?i.p(u,c):(i=a[l]=f[l](u),i.c()),O(i,1),i.m(s,null)),(!t||c&16)&&$(s,"sidebar-open",u[4])},i(u){t||(O(e.$$.fragment,u),O(i),t=!0)},o(u){T(e.$$.fragment,u),T(i),t=!1},d(u){u&&(m(n),m(s)),M(e,u),a[l].d()}}}function qe(r){let e,n="Please select a chapter from the sidebar.";return{c(){e=b("p"),e.textContent=n},l(s){e=g(s,"P",{"data-svelte-h":!0}),B(e)!=="svelte-1q2nasn"&&(e.textContent=n)},m(s,l){E(s,e,l)},p:q,i:q,o:q,d(s){s&&m(e)}}}function $e(r){let e,n,s,l,i;return e=new ge({props:{exercises:r[6],selectedExercise:r[2]}}),e.$on("select",r[8]),l=new we({props:{questions:r[5],selectedChapter:r[1],selectedExercise:r[2]}}),{c(){L(e.$$.fragment),n=N(),s=b("div"),L(l.$$.fragment),this.h()},l(t){G(e.$$.fragment,t),n=S(t),s=g(t,"DIV",{class:!0});var f=y(s);G(l.$$.fragment,f),f.forEach(m),this.h()},h(){p(s,"class","questions-container svelte-l59yb")},m(t,f){F(e,t,f),E(t,n,f),E(t,s,f),F(l,s,null),i=!0},p(t,f){const a={};f&64&&(a.exercises=t[6]),f&4&&(a.selectedExercise=t[2]),e.$set(a);const o={};f&32&&(o.questions=t[5]),f&2&&(o.selectedChapter=t[1]),f&4&&(o.selectedExercise=t[2]),l.$set(o)},i(t){i||(O(e.$$.fragment,t),O(l.$$.fragment,t),i=!0)},o(t){T(e.$$.fragment,t),T(l.$$.fragment,t),i=!1},d(t){t&&(m(n),m(s)),M(e,t),M(l)}}}function Se(r){let e,n,s,l,i;n=new fe({});let t=r[0]&&re(r);return{c(){e=b("div"),L(n.$$.fragment),s=N(),l=b("div"),t&&t.c(),this.h()},l(f){e=g(f,"DIV",{class:!0});var a=y(e);G(n.$$.fragment,a),s=S(a),l=g(a,"DIV",{class:!0});var o=y(l);t&&t.l(o),o.forEach(m),a.forEach(m),this.h()},h(){p(l,"class","layout-container svelte-l59yb"),p(e,"class","app-container svelte-l59yb")},m(f,a){E(f,e,a),F(n,e,null),v(e,s),v(e,l),t&&t.m(l,null),i=!0},p(f,[a]){f[0]?t?(t.p(f,a),a&1&&O(t,1)):(t=re(f),t.c(),O(t,1),t.m(l,null)):t&&(ce(),T(t,1,1,()=>{t=null}),ae())},i(f){i||(O(n.$$.fragment,f),O(t),i=!0)},o(f){T(n.$$.fragment,f),T(t),i=!1},d(f){f&&m(e),M(n),t&&t.d()}}}function Ne(r,e,n){let s,l,i,t=[],f=null,a=null,o=!0;oe(async()=>{var C;const h=(new URLSearchParams(window.location.search).get("tcode")||"fbise9mathold").trim();try{n(0,t=await ye(h)),n(1,f=((C=t==null?void 0:t.chapters)==null?void 0:C[0])??null)}catch(k){console.error("Failed to load syllabus for",h,k),n(0,t=null),n(1,f=null)}});function u(_){var h;n(1,f=((h=_.detail)==null?void 0:h.chapter)??_.detail),n(2,a=null)}function c(_){var h;n(2,a=((h=_.detail)==null?void 0:h.exercise)??_.detail)}function d(){n(4,o=!o)}return r.$$.update=()=>{var _,h;r.$$.dirty&1&&n(3,s=(t==null?void 0:t.chapters)||[]),r.$$.dirty&10&&n(6,l=f?((_=s.find(C=>C.filename===f.filename))==null?void 0:_.exercises)||[]:[]),r.$$.dirty&14&&n(5,i=f?a?a.questions||[]:((h=s.find(C=>C.filename===f.filename))==null?void 0:h.exercises.flatMap(C=>C.questions||[]))||[]:[])},[t,f,a,s,o,i,l,u,c,d]}class Be extends Q{constructor(e){super(),R(this,e,Ne,Se,H,{})}}export{Be as component};
