import{S as Bt,i as qt,s as Ft,n as Q,d as h,b as V,c as u,x as y,e as b,f as I,B as M,h as T,j as k,k as N,a as B,a5 as qe,g as P,t as x,J as Mt,T as zt,F as jt,p as we,q as Ie,Z as Kt,V as Jt,o as it,w as ot,y as rt,z as ct,Y as Gt}from"../chunks/C5V-7dkx.js";import"../chunks/IHki7fMi.js";import{o as w,n as _,a as S,l as c,s as A,u as W,e as Ht,d as Yt,g as Qt,f as Zt,T as Xt,N as $t,c as wt}from"../chunks/Dp9Uq9nb.js";import{e as Me}from"../chunks/DF3-wX0J.js";const O=w({start:_(),end:_()}),en=O.extend({type:c("titleSlide"),data:S(w({name:c("title"),content:A(),showAt:_()}))}),tn=O.extend({type:c("titleAndSubtitle"),data:S(W([w({name:c("title"),content:A(),showAt:_()}),w({name:c("subtitle"),content:A(),showAt:_()})]))}),nn=O.extend({type:c("bulletList"),data:S(w({name:c("bullet"),content:A(),showAt:_()}))}),sn=O.extend({type:c("twoColumnText"),data:S(W([w({name:c("title"),content:A(),showAt:_()}),w({name:c("left"),content:A(),showAt:_()}),w({name:c("right"),content:A(),showAt:_()})]))}),ln=O.extend({type:c("imageSlide"),data:S(w({name:c("image"),content:A(),showAt:_()}))}),an=O.extend({type:c("imageWithTitle"),data:S(W([w({name:c("image"),content:A(),showAt:_()}),w({name:c("title"),content:A(),showAt:_()})]))}),on=O.extend({type:c("imageWithCaption"),data:S(W([w({name:c("image"),content:A(),showAt:_()}),w({name:c("caption"),content:A(),showAt:_()})]))}),rn=O.extend({type:c("imageLeftBulletsRight"),data:S(w({name:W([c("image"),c("bullet")]),content:A(),showAt:_()}))}),cn=O.extend({type:c("imageRightBulletsLeft"),data:S(w({name:W([c("image"),c("bullet")]),content:A(),showAt:_()}))}),dn=O.extend({type:c("table"),data:S(W([w({name:c("headers"),content:S(A()),showAt:_()}),w({name:c("rows"),content:S(S(A())),showAt:_()})]))}),un=O.extend({type:c("statistic"),data:S(W([w({name:c("number"),content:A(),showAt:_()}),w({name:c("label"),content:A(),showAt:_()})]))}),fn=O.extend({type:c("donutChart"),data:S(w({name:W([c("percent"),c("label"),c("color")]),content:A(),showAt:_()}))}),hn=O.extend({type:c("bigNumber"),data:S(W([w({name:c("number"),content:A(),showAt:_()}),w({name:c("label"),content:A(),showAt:_()})]))}),mn=O.extend({type:c("barChart"),data:S(w({name:c("bar"),label:A(),value:_(),showAt:_()}))}),pn=O.extend({type:c("quoteSlide"),data:S(W([w({name:c("quoteLine"),content:A(),showAt:_()}),w({name:c("author"),content:A(),showAt:_()})]))}),vn=O.extend({type:c("quoteWithImage"),data:S(W([w({name:c("quoteLine"),content:A(),showAt:_()}),w({name:c("author"),content:A(),showAt:_()}),w({name:c("image"),content:A(),showAt:_()})]))}),_n=O.extend({type:c("cornerWordsSlide"),data:S(w({name:c("card"),icon:A(),label:A(),showAt:_()}))}),gn=O.extend({type:c("contactSlide"),data:S(W([w({name:c("headline"),content:A(),showAt:_()}),w({name:c("email"),content:A(),showAt:_()}),w({name:c("phone"),content:A(),showAt:_()})]))}),yn=O.extend({type:c("eq"),data:S(w({name:c("line"),type:W([c("heading"),c("text"),c("math")]),content:A(),showAt:_(),spItems:S(w({type:W([c("spHeading"),c("spText"),c("spMath"),c("spImage")]),content:A()})).optional()}))}),bn=O.extend({type:c("fillImage"),data:S(w({name:c("image"),content:A(),showAt:_()}))}),kn=O.extend({type:c("titleAndPara"),data:S(W([w({name:c("title"),content:A(),showAt:_()}),w({name:c("paragraph"),content:A(),showAt:_()})]))}),An=O.extend({type:c("svgPointer"),data:S(W([w({type:c("image"),content:A(),showAt:_().optional()}),w({type:Ht(["arrow","circle","dot"]),x:_(),y:_(),showAt:_(),duration:_().optional()}),w({type:c("window"),x:_(),y:_(),width:_(),height:_(),showAt:_(),duration:_().optional()}),w({type:c("blink"),targetId:A(),rate:_().optional(),showAt:_(),duration:_().optional()})])).refine(l=>l.filter(t=>t.type==="image").length===1,{message:"svgPointer slide must include exactly one image entry"})}),wn=w({name:A().optional(),description:A().optional(),tags:S(A()).optional(),status:Ht(["draft","ready","published","archived"]).optional(),createdAt:A().datetime().optional(),editedAt:A().datetime().optional(),version:c("deck-v1"),background:w({backgroundColor:A().optional(),backgroundImage:A().optional(),backgroundImageOpacity:_().optional()}).optional(),deck:S(Yt("type",[kn,An,yn,bn,en,tn,nn,sn,ln,an,on,rn,cn,dn,un,fn,hn,mn,pn,vn,_n,gn]))}),It=(l,t,s,e,n)=>({level:l,code:t,message:s,...e?{path:e}:{},...n?{details:n}:{}}),Ct=(l,t)=>typeof l=="number"?typeof t=="number"?`deck[${l}].data[${t}]`:`deck[${l}]`:"",dt=l=>typeof l=="number"&&Number.isFinite(l)?l:void 0;function In(l,t){var s;for(let e=0;e<l.length;e++){const n=l[e],i=dt(n==null?void 0:n.start),a=dt(n==null?void 0:n.end),o=Array.isArray(n==null?void 0:n.data)?n.data:[],f=new Map;for(let d=0;d<o.length;d++){const m=dt((s=o[d])==null?void 0:s.showAt);typeof m=="number"&&(typeof i=="number"&&typeof a=="number"&&(m<i||m>a)&&t.push(It("warning","TIME_OUT_OF_WINDOW",`Item showAt=${m} outside slide window [${i}, ${a}].`,Ct(e,d),{showAt:m,start:i,end:a})),f.set(m,(f.get(m)||0)+1))}for(const[d,m]of f.entries())m>1&&t.push(It("warning","DUP_SHOWAT_IN_SLIDE",`Multiple items share showAt=${d} (count=${m}).`,Ct(e),{slideIndex:e,showAt:d,count:m}))}}const St="deck-v1",Cn=new Set(["titleAndPara","svgPointer","eq","fillImage","titleSlide","titleAndSubtitle","bulletList","twoColumnText","imageSlide","imageWithTitle","imageWithCaption","imageLeftBulletsRight","imageRightBulletsLeft","table","statistic","donutChart","bigNumber","barChart","quoteSlide","quoteWithImage","cornerWordsSlide","contactSlide"]),fe=(l,t,s,e,n)=>({level:l,code:t,message:s,...e?{path:e}:{},...n?{details:n}:{}}),Fe=(l,t)=>typeof l=="number"?typeof t=="number"?`deck[${l}].data[${t}]`:`deck[${l}]`:"",Et=l=>typeof l=="number"&&Number.isFinite(l)?l:void 0;function Sn(l){const t=Array.isArray(l==null?void 0:l.deck)?l.deck:[],s=t.length;let e=0,n=0;const i=new Set;for(const a of t)typeof(a==null?void 0:a.end)=="number"&&a.end>e&&(e=a.end),Array.isArray(a==null?void 0:a.data)&&(n+=a.data.length),typeof(a==null?void 0:a.type)=="string"&&i.add(a.type);return{slideCount:s,duration:e,items:n,typesUsed:Array.from(i).sort()}}function En(l,t){const s=l==null?void 0:l.background;if(!s||typeof s!="object")return;const e=new Set(["backgroundColor","backgroundImage","backgroundImageOpacity"]),n=Object.keys(s).filter(i=>!e.has(i));n.length&&t.push(fe("warning","BACKGROUND_SHAPE",`Background has unknown keys: ${n.join(", ")}`,void 0,{extraKeys:n}))}function Dn(l,t,s){for(let e=0;e<l.length;e++){const n=l[e],i=n==null?void 0:n.type;(typeof i!="string"||!Cn.has(i))&&t.push(fe("error","UNKNOWN_SLIDE_TYPE",`Unknown slide type "${i}".`,Fe(e),{type:i}));const a=Et(n==null?void 0:n.start),o=Et(n==null?void 0:n.end);typeof a=="number"&&typeof o=="number"&&a>=o&&t.push(fe("error","END_BEFORE_START",`Slide has start >= end (${a} >= ${o}).`,Fe(e),{start:a,end:o})),(Array.isArray(n==null?void 0:n.data)?n.data:[]).length===0&&s.push(fe("warning","EMPTY_DATA","Slide has no data items.",Fe(e)))}}function Tn(l,t){for(let s=0;s<l.length;s++){const e=l[s];if((e==null?void 0:e.type)!=="svgPointer")continue;const i=(Array.isArray(e==null?void 0:e.data)?e.data:[]).filter(a=>(a==null?void 0:a.type)==="image").length;i!==1&&t.push(fe("error","SVGPOINTER_IMAGE_COUNT",`svgPointer slide must contain exactly 1 base image (found ${i}).`,Fe(s),{imageCount:i}))}}function Nn(l,{strict:t=!0,maxDiagnostics:s=200}={}){var r;const e=[],n=[],i=wn.safeParse(l);if(!i.success){const g=Array.isArray((r=i.error)==null?void 0:r.issues)?i.error.issues:[];for(const E of g){const U=Array.isArray(E.path)&&E.path.length?"question."+E.path.map(String).join("."):void 0;(t?e:n).push(fe(t?"error":"warning","SCHEMA_INVALID",E.message||"Schema error.",U,{pathArray:E.path}))}}const a=i.success?i.data:l;(!a||a.version!==St)&&n.push(fe("warning","MISSING_DECK_VERSION","Top-level 'version' is missing or not 'deck-v1'.")),En(a,n);const o=Array.isArray(a==null?void 0:a.deck)?a.deck:[];Dn(o,e,n),In(o,n),Tn(o,e);const f=Sn(a),d=g=>g.length>s?g.slice(0,s):g,m=d(e),v=d(n);return{ok:m.length===0,errors:m,warnings:v,stats:f,meta:{schemaVersion:St}}}function Dt(l,t,s){const e=l.slice();return e[10]=t[s],e[12]=s,e}function Tt(l,t,s){const e=l.slice();return e[13]=t[s],e[12]=s,e}function Nt(l){let t,s=l[3]?"OK":"Needs Fixes",e;return{c(){t=k("span"),e=x(s),this.h()},l(n){t=b(n,"SPAN",{class:!0});var i=I(t);e=P(i,s),i.forEach(h),this.h()},h(){y(t,"class","svelte-12m6y6n"),qe(t,"ok-badge",l[3]),qe(t,"bad-badge",!l[3])},m(n,i){V(n,t,i),u(t,e)},p(n,i){i&8&&s!==(s=n[3]?"OK":"Needs Fixes")&&B(e,s),i&8&&qe(t,"ok-badge",n[3]),i&8&&qe(t,"bad-badge",!n[3])},d(n){n&&h(t)}}}function Vn(l){var vt,_t,gt,yt,bt,kt;let t,s,e,n="Slides",i,a,o=(((vt=l[6])==null?void 0:vt.slideCount)??"—")+"",f,d,m,v,p="Items",r,g,E=(((_t=l[6])==null?void 0:_t.items)??"—")+"",U,q,z,L,se="Duration",Z,K,le=Wt((gt=l[6])==null?void 0:gt.duration,1)+"",he,X,je,$,ae,ut="Types Used",He,me,_e=((((yt=l[6])==null?void 0:yt.typesUsed)??[]).join(", ")||"—")+"",Ce,Se,J,G,ie,ze,ee,Ke,ge=l[5].length+"",Ee,Je,Ge,Ye,Y,oe,Qe,te,Ze,ye=l[4].length+"",De,Xe,$e,Te,F,ne,ft="Copy full report",et,Ne,re,tt,be=(((kt=(bt=l[1])==null?void 0:bt.meta)==null?void 0:kt.schemaVersion)||"—")+"",Ve,nt,ht;function mt(C,D){return C[5].length===0?Ln:On}let Pe=mt(l),j=Pe(l);function pt(C,D){return C[4].length===0?Un:Wn}let xe=pt(l),H=xe(l),R=l[2]&&Lt();return{c(){t=k("div"),s=k("div"),e=k("div"),e.textContent=n,i=N(),a=k("div"),f=x(o),d=N(),m=k("div"),v=k("div"),v.textContent=p,r=N(),g=k("div"),U=x(E),q=N(),z=k("div"),L=k("div"),L.textContent=se,Z=N(),K=k("div"),he=x(le),X=x("s"),je=N(),$=k("div"),ae=k("div"),ae.textContent=ut,He=N(),me=k("div"),Ce=x(_e),Se=N(),J=k("div"),G=k("div"),ie=k("h3"),ze=x("Errors "),ee=k("span"),Ke=x("("),Ee=x(ge),Je=x(")"),Ge=N(),j.c(),Ye=N(),Y=k("div"),oe=k("h3"),Qe=x("Warnings "),te=k("span"),Ze=x("("),De=x(ye),Xe=x(")"),$e=N(),H.c(),Te=N(),F=k("div"),ne=k("button"),ne.textContent=ft,et=N(),R&&R.c(),Ne=N(),re=k("span"),tt=x("schema: "),Ve=x(be),this.h()},l(C){t=b(C,"DIV",{class:!0});var D=I(t);s=b(D,"DIV",{class:!0});var ce=I(s);e=b(ce,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-gbqr70"&&(e.textContent=n),i=T(ce),a=b(ce,"DIV",{class:!0});var ke=I(a);f=P(ke,o),ke.forEach(h),ce.forEach(h),d=T(D),m=b(D,"DIV",{class:!0});var de=I(m);v=b(de,"DIV",{class:!0,"data-svelte-h":!0}),M(v)!=="svelte-1fr62a8"&&(v.textContent=p),r=T(de),g=b(de,"DIV",{class:!0});var Ae=I(g);U=P(Ae,E),Ae.forEach(h),de.forEach(h),q=T(D),z=b(D,"DIV",{class:!0});var ue=I(z);L=b(ue,"DIV",{class:!0,"data-svelte-h":!0}),M(L)!=="svelte-izfl0y"&&(L.textContent=se),Z=T(ue),K=b(ue,"DIV",{class:!0});var pe=I(K);he=P(pe,le),X=P(pe,"s"),pe.forEach(h),ue.forEach(h),je=T(D),$=b(D,"DIV",{class:!0});var Oe=I($);ae=b(Oe,"DIV",{class:!0,"data-svelte-h":!0}),M(ae)!=="svelte-1j5ij1w"&&(ae.textContent=ut),He=T(Oe),me=b(Oe,"DIV",{class:!0});var At=I(me);Ce=P(At,_e),At.forEach(h),Oe.forEach(h),D.forEach(h),Se=T(C),J=b(C,"DIV",{class:!0});var Le=I(J);G=b(Le,"DIV",{class:!0});var We=I(G);ie=b(We,"H3",{class:!0});var st=I(ie);ze=P(st,"Errors "),ee=b(st,"SPAN",{class:!0});var Ue=I(ee);Ke=P(Ue,"("),Ee=P(Ue,ge),Je=P(Ue,")"),Ue.forEach(h),st.forEach(h),Ge=T(We),j.l(We),We.forEach(h),Ye=T(Le),Y=b(Le,"DIV",{class:!0});var Re=I(Y);oe=b(Re,"H3",{class:!0});var lt=I(oe);Qe=P(lt,"Warnings "),te=b(lt,"SPAN",{class:!0});var Be=I(te);Ze=P(Be,"("),De=P(Be,ye),Xe=P(Be,")"),Be.forEach(h),lt.forEach(h),$e=T(Re),H.l(Re),Re.forEach(h),Le.forEach(h),Te=T(C),F=b(C,"DIV",{class:!0});var ve=I(F);ne=b(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),M(ne)!=="svelte-1ly3phq"&&(ne.textContent=ft),et=T(ve),R&&R.l(ve),Ne=T(ve),re=b(ve,"SPAN",{class:!0});var at=I(re);tt=P(at,"schema: "),Ve=P(at,be),at.forEach(h),ve.forEach(h),this.h()},h(){y(e,"class","card-label svelte-12m6y6n"),y(a,"class","card-value svelte-12m6y6n"),y(s,"class","card svelte-12m6y6n"),y(v,"class","card-label svelte-12m6y6n"),y(g,"class","card-value svelte-12m6y6n"),y(m,"class","card svelte-12m6y6n"),y(L,"class","card-label svelte-12m6y6n"),y(K,"class","card-value svelte-12m6y6n"),y(z,"class","card svelte-12m6y6n"),y(ae,"class","card-label svelte-12m6y6n"),y(me,"class","card-value small svelte-12m6y6n"),y($,"class","card wide svelte-12m6y6n"),y(t,"class","cards svelte-12m6y6n"),y(ee,"class","count svelte-12m6y6n"),y(ie,"class","svelte-12m6y6n"),y(G,"class","diag-row svelte-12m6y6n"),y(te,"class","count svelte-12m6y6n"),y(oe,"class","svelte-12m6y6n"),y(Y,"class","diag-row svelte-12m6y6n"),y(J,"class","diag-wrap svelte-12m6y6n"),y(ne,"class","svelte-12m6y6n"),y(re,"class","meta svelte-12m6y6n"),y(F,"class","actions svelte-12m6y6n")},m(C,D){V(C,t,D),u(t,s),u(s,e),u(s,i),u(s,a),u(a,f),u(t,d),u(t,m),u(m,v),u(m,r),u(m,g),u(g,U),u(t,q),u(t,z),u(z,L),u(z,Z),u(z,K),u(K,he),u(K,X),u(t,je),u(t,$),u($,ae),u($,He),u($,me),u(me,Ce),V(C,Se,D),V(C,J,D),u(J,G),u(G,ie),u(ie,ze),u(ie,ee),u(ee,Ke),u(ee,Ee),u(ee,Je),u(G,Ge),j.m(G,null),u(J,Ye),u(J,Y),u(Y,oe),u(oe,Qe),u(oe,te),u(te,Ze),u(te,De),u(te,Xe),u(Y,$e),H.m(Y,null),V(C,Te,D),V(C,F,D),u(F,ne),u(F,et),R&&R.m(F,null),u(F,Ne),u(F,re),u(re,tt),u(re,Ve),nt||(ht=Mt(ne,"click",zt(l[7])),nt=!0)},p(C,D){var ce,ke,de,Ae,ue,pe;D&64&&o!==(o=(((ce=C[6])==null?void 0:ce.slideCount)??"—")+"")&&B(f,o),D&64&&E!==(E=(((ke=C[6])==null?void 0:ke.items)??"—")+"")&&B(U,E),D&64&&le!==(le=Wt((de=C[6])==null?void 0:de.duration,1)+"")&&B(he,le),D&64&&_e!==(_e=((((Ae=C[6])==null?void 0:Ae.typesUsed)??[]).join(", ")||"—")+"")&&B(Ce,_e),D&32&&ge!==(ge=C[5].length+"")&&B(Ee,ge),Pe===(Pe=mt(C))&&j?j.p(C,D):(j.d(1),j=Pe(C),j&&(j.c(),j.m(G,null))),D&16&&ye!==(ye=C[4].length+"")&&B(De,ye),xe===(xe=pt(C))&&H?H.p(C,D):(H.d(1),H=xe(C),H&&(H.c(),H.m(Y,null))),C[2]?R||(R=Lt(),R.c(),R.m(F,Ne)):R&&(R.d(1),R=null),D&2&&be!==(be=(((pe=(ue=C[1])==null?void 0:ue.meta)==null?void 0:pe.schemaVersion)||"—")+"")&&B(Ve,be)},d(C){C&&(h(t),h(Se),h(J),h(Te),h(F)),j.d(),H.d(),R&&R.d(),nt=!1,ht()}}}function Pn(l){let t,s="Running checks…";return{c(){t=k("div"),t.textContent=s,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-t3upt0"&&(t.textContent=s),this.h()},h(){y(t,"class","muted svelte-12m6y6n")},m(e,n){V(e,t,n)},p:Q,d(e){e&&h(t)}}}function xn(l){let t,s="No deck loaded.";return{c(){t=k("div"),t.textContent=s,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-135yin"&&(t.textContent=s),this.h()},h(){y(t,"class","muted svelte-12m6y6n")},m(e,n){V(e,t,n)},p:Q,d(e){e&&h(t)}}}function On(l){let t,s=Me(l[5]),e=[];for(let n=0;n<s.length;n+=1)e[n]=Pt(Tt(l,s,n));return{c(){t=k("ul");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=b(n,"UL",{class:!0});var i=I(t);for(let a=0;a<e.length;a+=1)e[a].l(i);i.forEach(h),this.h()},h(){y(t,"class","list svelte-12m6y6n")},m(n,i){V(n,t,i);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(n,i){if(i&32){s=Me(n[5]);let a;for(a=0;a<s.length;a+=1){const o=Tt(n,s,a);e[a]?e[a].p(o,i):(e[a]=Pt(o),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=s.length}},d(n){n&&h(t),jt(e,n)}}}function Ln(l){let t,s="No errors.";return{c(){t=k("div"),t.textContent=s,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1axjwcs"&&(t.textContent=s),this.h()},h(){y(t,"class","muted svelte-12m6y6n")},m(e,n){V(e,t,n)},p:Q,d(e){e&&h(t)}}}function Vt(l){let t,s=l[13].path+"",e;return{c(){t=k("div"),e=x(s),this.h()},l(n){t=b(n,"DIV",{class:!0});var i=I(t);e=P(i,s),i.forEach(h),this.h()},h(){y(t,"class","path svelte-12m6y6n")},m(n,i){V(n,t,i),u(t,e)},p(n,i){i&32&&s!==(s=n[13].path+"")&&B(e,s)},d(n){n&&h(t)}}}function Pt(l){let t,s,e,n=l[13].code+"",i,a,o,f=l[13].message+"",d,m,v,p=l[13].path&&Vt(l);return{c(){t=k("li"),s=k("div"),e=k("code"),i=x(n),a=N(),o=k("span"),d=x(f),m=N(),p&&p.c(),v=N(),this.h()},l(r){t=b(r,"LI",{class:!0});var g=I(t);s=b(g,"DIV",{class:!0});var E=I(s);e=b(E,"CODE",{class:!0});var U=I(e);i=P(U,n),U.forEach(h),a=T(E),o=b(E,"SPAN",{class:!0});var q=I(o);d=P(q,f),q.forEach(h),E.forEach(h),m=T(g),p&&p.l(g),v=T(g),g.forEach(h),this.h()},h(){y(e,"class","code svelte-12m6y6n"),y(o,"class","msg svelte-12m6y6n"),y(s,"class","line svelte-12m6y6n"),y(t,"class","item error svelte-12m6y6n")},m(r,g){V(r,t,g),u(t,s),u(s,e),u(e,i),u(s,a),u(s,o),u(o,d),u(t,m),p&&p.m(t,null),u(t,v)},p(r,g){g&32&&n!==(n=r[13].code+"")&&B(i,n),g&32&&f!==(f=r[13].message+"")&&B(d,f),r[13].path?p?p.p(r,g):(p=Vt(r),p.c(),p.m(t,v)):p&&(p.d(1),p=null)},d(r){r&&h(t),p&&p.d()}}}function Wn(l){let t,s=Me(l[4]),e=[];for(let n=0;n<s.length;n+=1)e[n]=Ot(Dt(l,s,n));return{c(){t=k("ul");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=b(n,"UL",{class:!0});var i=I(t);for(let a=0;a<e.length;a+=1)e[a].l(i);i.forEach(h),this.h()},h(){y(t,"class","list svelte-12m6y6n")},m(n,i){V(n,t,i);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(n,i){if(i&16){s=Me(n[4]);let a;for(a=0;a<s.length;a+=1){const o=Dt(n,s,a);e[a]?e[a].p(o,i):(e[a]=Ot(o),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=s.length}},d(n){n&&h(t),jt(e,n)}}}function Un(l){let t,s="No warnings.";return{c(){t=k("div"),t.textContent=s,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1jx0ztu"&&(t.textContent=s),this.h()},h(){y(t,"class","muted svelte-12m6y6n")},m(e,n){V(e,t,n)},p:Q,d(e){e&&h(t)}}}function xt(l){let t,s=l[10].path+"",e;return{c(){t=k("div"),e=x(s),this.h()},l(n){t=b(n,"DIV",{class:!0});var i=I(t);e=P(i,s),i.forEach(h),this.h()},h(){y(t,"class","path svelte-12m6y6n")},m(n,i){V(n,t,i),u(t,e)},p(n,i){i&16&&s!==(s=n[10].path+"")&&B(e,s)},d(n){n&&h(t)}}}function Ot(l){let t,s,e,n=l[10].code+"",i,a,o,f=l[10].message+"",d,m,v,p=l[10].path&&xt(l);return{c(){t=k("li"),s=k("div"),e=k("code"),i=x(n),a=N(),o=k("span"),d=x(f),m=N(),p&&p.c(),v=N(),this.h()},l(r){t=b(r,"LI",{class:!0});var g=I(t);s=b(g,"DIV",{class:!0});var E=I(s);e=b(E,"CODE",{class:!0});var U=I(e);i=P(U,n),U.forEach(h),a=T(E),o=b(E,"SPAN",{class:!0});var q=I(o);d=P(q,f),q.forEach(h),E.forEach(h),m=T(g),p&&p.l(g),v=T(g),g.forEach(h),this.h()},h(){y(e,"class","code svelte-12m6y6n"),y(o,"class","msg svelte-12m6y6n"),y(s,"class","line svelte-12m6y6n"),y(t,"class","item warn svelte-12m6y6n")},m(r,g){V(r,t,g),u(t,s),u(s,e),u(e,i),u(s,a),u(s,o),u(o,d),u(t,m),p&&p.m(t,null),u(t,v)},p(r,g){g&16&&n!==(n=r[10].code+"")&&B(i,n),g&16&&f!==(f=r[10].message+"")&&B(d,f),r[10].path?p?p.p(r,g):(p=xt(r),p.c(),p.m(t,v)):p&&(p.d(1),p=null)},d(r){r&&h(t),p&&p.d()}}}function Lt(l){let t,s="Copied ✓";return{c(){t=k("span"),t.textContent=s,this.h()},l(e){t=b(e,"SPAN",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1hl96m2"&&(t.textContent=s),this.h()},h(){y(t,"class","copied svelte-12m6y6n")},m(e,n){V(e,t,n)},d(e){e&&h(t)}}}function Rn(l){let t,s,e,n="Deck Doctor",i,a,o=l[1]&&Nt(l);function f(v,p){return v[0]?v[1]?Vn:Pn:xn}let d=f(l),m=d(l);return{c(){t=k("div"),s=k("div"),e=k("h2"),e.textContent=n,i=N(),o&&o.c(),a=N(),m.c(),this.h()},l(v){t=b(v,"DIV",{class:!0});var p=I(t);s=b(p,"DIV",{class:!0});var r=I(s);e=b(r,"H2",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-kcj187"&&(e.textContent=n),i=T(r),o&&o.l(r),r.forEach(h),a=T(p),m.l(p),p.forEach(h),this.h()},h(){y(e,"class","title svelte-12m6y6n"),y(s,"class","header svelte-12m6y6n"),y(t,"class","doctor svelte-12m6y6n")},m(v,p){V(v,t,p),u(t,s),u(s,e),u(s,i),o&&o.m(s,null),u(t,a),m.m(t,null)},p(v,[p]){v[1]?o?o.p(v,p):(o=Nt(v),o.c(),o.m(s,null)):o&&(o.d(1),o=null),d===(d=f(v))&&m?m.p(v,p):(m.d(1),m=d(v),m&&(m.c(),m.m(t,null)))},i:Q,o:Q,d(v){v&&h(t),o&&o.d(),m.d()}}}function Wt(l,t=1){return typeof l=="number"&&Number.isFinite(l)?l.toFixed(t):"—"}function Bn(l,t,s){let e,n,i,a,o,{question:f=null}=t,{strict:d=!0}=t,{maxDiagnostics:m=500}=t;function v(){var r;try{typeof navigator<"u"&&e&&((r=navigator.clipboard)==null||r.writeText(JSON.stringify(e,null,2)),s(2,p=!0),setTimeout(()=>s(2,p=!1),1200))}catch{}}let p=!1;return l.$$set=r=>{"question"in r&&s(0,f=r.question),"strict"in r&&s(8,d=r.strict),"maxDiagnostics"in r&&s(9,m=r.maxDiagnostics)},l.$$.update=()=>{l.$$.dirty&769&&s(1,e=f?Nn(f,{strict:d,maxDiagnostics:m}):null),l.$$.dirty&2&&s(6,n=(e==null?void 0:e.stats)??null),l.$$.dirty&2&&s(5,i=(e==null?void 0:e.errors)??[]),l.$$.dirty&2&&s(4,a=(e==null?void 0:e.warnings)??[]),l.$$.dirty&2&&s(3,o=(e==null?void 0:e.ok)??!1)},[f,e,p,o,a,i,n,v,d,m]}class qn extends Bt{constructor(t){super(),qt(this,t,Bn,Rn,Ft,{question:0,strict:8,maxDiagnostics:9})}}function Ut(l){let t,s;return{c(){t=k("div"),s=x(l[3]),this.h()},l(e){t=b(e,"DIV",{class:!0});var n=I(t);s=P(n,l[3]),n.forEach(h),this.h()},h(){y(t,"class","center error svelte-1xbsh5f")},m(e,n){V(e,t,n),u(t,s)},p(e,n){n&8&&B(s,e[3])},d(e){e&&h(t)}}}function Fn(l){let t,s="Load a deck (JSON) to start";return{c(){t=k("div"),t.textContent=s,this.h()},l(e){t=b(e,"DIV",{class:!0,"data-svelte-h":!0}),M(t)!=="svelte-1bzuzh0"&&(t.textContent=s),this.h()},h(){y(t,"class","flex items-center justify-center h-full svelte-1xbsh5f")},m(e,n){V(e,t,n)},p:Q,i:Q,o:Q,d(e){e&&h(t)}}}function Mn(l){let t,s,e,n,i,a,o;return t=new Xt({props:{deck:l[2],currentTime:l[1]}}),e=new $t({props:{currentTime:l[1],currentSlideIndex:l[5],deckEnd:l[6],soundUrl:null,onPlay:l[8],onPause:l[9],onStop:l[10],onSeek:l[11]}}),a=new qn({props:{question:l[0]}}),{c(){ct(t.$$.fragment),s=N(),ct(e.$$.fragment),n=N(),i=k("div"),ct(a.$$.fragment),this.h()},l(f){rt(t.$$.fragment,f),s=T(f),rt(e.$$.fragment,f),n=T(f),i=b(f,"DIV",{class:!0});var d=I(i);rt(a.$$.fragment,d),d.forEach(h),this.h()},h(){y(i,"class","doctor-wrap svelte-1xbsh5f")},m(f,d){ot(t,f,d),V(f,s,d),ot(e,f,d),V(f,n,d),V(f,i,d),ot(a,i,null),o=!0},p(f,d){const m={};d&4&&(m.deck=f[2]),d&2&&(m.currentTime=f[1]),t.$set(m);const v={};d&2&&(v.currentTime=f[1]),d&32&&(v.currentSlideIndex=f[5]),d&64&&(v.deckEnd=f[6]),e.$set(v);const p={};d&1&&(p.question=f[0]),a.$set(p)},i(f){o||(Ie(t.$$.fragment,f),Ie(e.$$.fragment,f),Ie(a.$$.fragment,f),o=!0)},o(f){we(t.$$.fragment,f),we(e.$$.fragment,f),we(a.$$.fragment,f),o=!1},d(f){f&&(h(s),h(n),h(i)),it(t,f),it(e,f),it(a)}}}function jn(l){let t,s,e,n,i,a,o,f,d=l[3]&&Ut(l);const m=[Mn,Fn],v=[];function p(r,g){return r[4]&&r[2].length?0:1}return s=p(l),e=v[s]=m[s](l),{c(){d&&d.c(),t=N(),e.c(),n=N(),i=k("input"),this.h()},l(r){d&&d.l(r),t=T(r),e.l(r),n=T(r),i=b(r,"INPUT",{type:!0,accept:!0}),this.h()},h(){y(i,"type","file"),y(i,"accept",".json,application/json")},m(r,g){d&&d.m(r,g),V(r,t,g),v[s].m(r,g),V(r,n,g),V(r,i,g),a=!0,o||(f=Mt(i,"change",l[7]),o=!0)},p(r,[g]){r[3]?d?d.p(r,g):(d=Ut(r),d.c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null);let E=s;s=p(r),s===E?v[s].p(r,g):(Gt(),we(v[E],1,1,()=>{v[E]=null}),Kt(),e=v[s],e?e.p(r,g):(e=v[s]=m[s](r),e.c()),Ie(e,1),e.m(n.parentNode,n))},i(r){a||(Ie(e),a=!0)},o(r){we(e),a=!1},d(r){r&&(h(t),h(n),h(i)),d&&d.d(r),v[s].d(r),o=!1,f()}}}const Rt=200;function Hn(l,t,s){let e,n=null,i=null,a=!1,o=0,f=0,d=0,m=null;function v(L){if(Array.isArray(L))return{version:"deck-v1",deck:L};if(L&&Array.isArray(L.deck))return L;if(L&&Array.isArray(L.slides)){const{slides:se,...Z}=L;return{...Z,deck:se}}return null}function p(L){var K;const se=(K=L.target.files)==null?void 0:K[0];if(!se)return;const Z=new FileReader;Z.onload=le=>{try{const he=JSON.parse(le.target.result),X=v(he);if(!X||!Array.isArray(X.deck)||X.deck.length===0)throw new Error("Empty or invalid deck");s(0,n=X),s(1,o=0),s(4,a=!0),q(),s(3,i=null)}catch{s(3,i="Invalid deck JSON"),s(0,n=null),s(4,a=!1)}},Z.readAsText(se)}function r(){m||!e.length||(m=setInterval(()=>{s(1,o=wt(e,o+Rt/1e3)),o>=d&&(s(1,o=d),U())},Rt))}function g(){m&&(clearInterval(m),m=null)}function E(){r()}function U(){g()}function q(){g(),s(1,o=0)}function z(L){s(1,o=wt(e,L))}return Jt(()=>g()),l.$$.update=()=>{l.$$.dirty&1&&s(2,e=(n==null?void 0:n.deck)??[]),l.$$.dirty&4&&s(6,d=Array.isArray(e)&&e.length?Qt(e):0),l.$$.dirty&6&&s(5,f=Array.isArray(e)&&e.length?Zt(e,o):0)},[n,o,e,i,a,f,d,p,E,U,q,z]}class Yn extends Bt{constructor(t){super(),qt(this,t,Hn,jn,Ft,{})}}export{Yn as component};
