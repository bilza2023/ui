import{_ as y}from"../chunks/C1FmrZbK.js";import{S as v,i as D,s as j,d as h,o as _,p,J as U,b as w,A as b,D as S,m as E,q as P,v as q,x as C,n as m,r as A,e as L,w as $,j as x,K as I}from"../chunks/CJK8MNlv.js";import"../chunks/IHki7fMi.js";import{S as R}from"../chunks/cg3StLeL.js";function V(a){let e,n="Loadingâ€¦";return{c(){e=x("div"),e.textContent=n,this.h()},l(t){e=L(t,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1lu8seq"&&(e.textContent=n),this.h()},h(){A(e,"class","flex items-center justify-center h-full svelte-1nm0fw4")},m(t,s){w(t,e,s)},p:m,i:m,o:m,d(t){t&&h(e)}}}function W(a){let e,n;return e=new R({props:{deck:a[0],background:a[1],soundUrl:a[2]}}),{c(){C(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){P(e,t,s),n=!0},p(t,s){const r={};s&1&&(r.deck=t[0]),s&2&&(r.background=t[1]),s&4&&(r.soundUrl=t[2]),e.$set(r)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){E(e,t)}}}function B(a){let e,n,t,s;const r=[W,V],l=[];function f(o,c){return o[3]&&o[0].length?0:1}return e=f(a),n=l[e]=r[e](a),{c(){n.c(),t=b()},l(o){n.l(o),t=b()},m(o,c){l[e].m(o,c),w(o,t,c),s=!0},p(o,[c]){let i=e;e=f(o),e===i?l[e].p(o,c):(I(),_(l[i],1,1,()=>{l[i]=null}),U(),n=l[e],n?n.p(o,c):(n=l[e]=r[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){s||(p(n),s=!0)},o(o){_(n),s=!1},d(o){o&&h(t),l[e].d(o)}}}const J="/decks_workbench/";function K(a,e,n){let t=[],s={},r=null,l=!1;return S(async()=>{const o=new URLSearchParams(window.location.search).get("filename")??"index.json",c=`${J}${o}`;if(o.endsWith(".json")){const u=await(await fetch(c)).json();n(0,t=u.deck??u),n(1,s=u.background??{}),n(2,r=u.soundUrl??null)}else if(o.endsWith(".js")){const i=await import(c);if(typeof i.defineDeck!="function")throw new Error("defineDeck() not found in module");const{default:u}=await y(async()=>{const{default:g}=await import("../chunks/DSCPePlM.js");return{default:g}},[],import.meta.url),k=new u;i.defineDeck(k);const d=k.build();n(0,t=d.deck),n(1,s=d.background??{}),n(2,r=d.soundUrl??null)}else throw new Error("Unsupported file type: "+o);n(3,l=!0)}),[t,s,r,l]}class z extends v{constructor(e){super(),D(this,e,K,B,j,{})}}export{z as component};
