import{S as j,i as P,s as U,n as E,d as m,Y as w,b as k,v as p,e as g,f as C,j as v,O as W,A,c as b,B as T,x as D,h as O,k as I,a as M,g as G,t as $,y as K,G as le,p as x,o as y,m as N,I as X,q as B,w as V,z,C as se,Z as ne,K as ee}from"../chunks/DyFPC5PL.js";import"../chunks/IHki7fMi.js";import{p as ie}from"../chunks/Cp5rmMj5.js";import{N as ce}from"../chunks/C-XmxyyY.js";import{e as S}from"../chunks/Da83IlZz.js";function L(c,e,n){const s=c.slice();return s[8]=e[n],s}function re(c){let e,n="☰",s,l;return{c(){e=v("button"),e.textContent=n,this.h()},l(i){e=g(i,"BUTTON",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-mwnr5p"&&(e.textContent=n),this.h()},h(){p(e,"class","toggle-btn collapsed svelte-cc2cz7")},m(i,t){k(i,e,t),s||(l=T(e,"click",c[7]),s=!0)},p:E,d(i){i&&m(e),s=!1,l()}}}function ae(c){let e,n,s="◄ Collapse",l,i,t="Chapters",f,r,o,u=S(c[0]),a=[];for(let h=0;h<u.length;h+=1)a[h]=Q(L(c,u,h));return{c(){e=v("div"),n=v("button"),n.textContent=s,l=I(),i=v("h3"),i.textContent=t,f=I();for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){e=g(h,"DIV",{class:!0});var _=C(e);n=g(_,"BUTTON",{class:!0,"data-svelte-h":!0}),D(n)!=="svelte-mjwlsp"&&(n.textContent=s),l=O(_),i=g(_,"H3",{class:!0,"data-svelte-h":!0}),D(i)!=="svelte-19m811g"&&(i.textContent=t),f=O(_);for(let d=0;d<a.length;d+=1)a[d].l(_);_.forEach(m),this.h()},h(){p(n,"class","toggle-btn svelte-cc2cz7"),p(i,"class","text-center text-[#EAB308]"),p(e,"class","chapter-list svelte-cc2cz7")},m(h,_){k(h,e,_),b(e,n),b(e,l),b(e,i),b(e,f);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);r||(o=T(n,"click",c[5]),r=!0)},p(h,_){if(_&11){u=S(h[0]);let d;for(d=0;d<u.length;d+=1){const q=L(h,u,d);a[d]?a[d].p(q,_):(a[d]=Q(q),a[d].c(),a[d].m(e,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=u.length}},d(h){h&&m(e),A(a,h),r=!1,o()}}}function Q(c){let e,n=c[8].name+"",s,l,i,t;function f(){return c[6](c[8])}return{c(){e=v("button"),s=$(n),l=I(),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var o=C(e);s=G(o,n),l=O(o),o.forEach(m),this.h()},h(){var r;p(e,"class","chapter-btn svelte-cc2cz7"),w(e,"selected",((r=c[1])==null?void 0:r.filename)===c[8].filename)},m(r,o){k(r,e,o),b(e,s),b(e,l),i||(t=T(e,"click",f),i=!0)},p(r,o){var u;c=r,o&1&&n!==(n=c[8].name+"")&&M(s,n),o&3&&w(e,"selected",((u=c[1])==null?void 0:u.filename)===c[8].filename)},d(r){r&&m(e),i=!1,t()}}}function oe(c){let e;function n(i,t){return i[2]?ae:re}let s=n(c),l=s(c);return{c(){e=v("div"),l.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var t=C(e);l.l(t),t.forEach(m),this.h()},h(){p(e,"class","sidebar svelte-cc2cz7"),w(e,"open",c[2])},m(i,t){k(i,e,t),l.m(e,null)},p(i,[t]){s===(s=n(i))&&l?l.p(i,t):(l.d(1),l=s(i),l&&(l.c(),l.m(e,null))),t&4&&w(e,"open",i[2])},i:E,o:E,d(i){i&&m(e),l.d()}}}function fe(c,e,n){let{chapters:s=[]}=e,{selectedChapter:l=null}=e,{isSidebarOpen:i=!0}=e;function t(a){f("select",{chapter:a})}const f=W(),r=()=>f("toggle"),o=a=>t(a),u=()=>f("toggle");return c.$$set=a=>{"chapters"in a&&n(0,s=a.chapters),"selectedChapter"in a&&n(1,l=a.selectedChapter),"isSidebarOpen"in a&&n(2,i=a.isSidebarOpen)},[s,l,i,t,f,r,o,u]}class ue extends j{constructor(e){super(),P(this,e,fe,oe,U,{chapters:0,selectedChapter:1,isSidebarOpen:2})}}function Y(c,e,n){const s=c.slice();return s[6]=e[n],s}function Z(c){let e,n=c[6].name+"",s,l,i,t;function f(){return c[4](c[6])}return{c(){e=v("button"),s=$(n),l=I(),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var o=C(e);s=G(o,n),l=O(o),o.forEach(m),this.h()},h(){var r;p(e,"class","exercise-btn svelte-1g1gray"),w(e,"selected",((r=c[1])==null?void 0:r.filename)===c[6].filename)},m(r,o){k(r,e,o),b(e,s),b(e,l),i||(t=T(e,"click",f),i=!0)},p(r,o){var u;c=r,o&1&&n!==(n=c[6].name+"")&&M(s,n),o&3&&w(e,"selected",((u=c[1])==null?void 0:u.filename)===c[6].filename)},d(r){r&&m(e),i=!1,t()}}}function he(c){let e,n,s="All",l,i,t,f=S(c[0]),r=[];for(let o=0;o<f.length;o+=1)r[o]=Z(Y(c,f,o));return{c(){e=v("div"),n=v("button"),n.textContent=s,l=I();for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=g(o,"DIV",{class:!0});var u=C(e);n=g(u,"BUTTON",{class:!0,"data-svelte-h":!0}),D(n)!=="svelte-vghtop"&&(n.textContent=s),l=O(u);for(let a=0;a<r.length;a+=1)r[a].l(u);u.forEach(m),this.h()},h(){p(n,"class","exercise-btn svelte-1g1gray"),w(n,"selected",!c[1]),p(e,"class","exercise-nav svelte-1g1gray")},m(o,u){k(o,e,u),b(e,n),b(e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);i||(t=T(n,"click",c[3]),i=!0)},p(o,[u]){if(u&2&&w(n,"selected",!o[1]),u&7){f=S(o[0]);let a;for(a=0;a<f.length;a+=1){const h=Y(o,f,a);r[a]?r[a].p(h,u):(r[a]=Z(h),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=f.length}},i:E,o:E,d(o){o&&m(e),A(r,o),i=!1,t()}}}function de(c,e,n){let{exercises:s=[]}=e,{selectedExercise:l=null}=e;function i(o){t("select",{exercise:o})}const t=W(),f=()=>i(null),r=o=>i(o);return c.$$set=o=>{"exercises"in o&&n(0,s=o.exercises),"selectedExercise"in o&&n(1,l=o.selectedExercise)},[s,l,i,f,r]}class _e extends j{constructor(e){super(),P(this,e,de,he,U,{exercises:0,selectedExercise:1})}}function F(c,e,n){const s=c.slice();return s[3]=e[n],s}function me(c){let e,n="No questions available for this selection.";return{c(){e=v("p"),e.textContent=n,this.h()},l(s){e=g(s,"P",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-pjfwhw"&&(e.textContent=n),this.h()},h(){p(e,"class","no-questions svelte-twkini")},m(s,l){k(s,e,l)},p:E,d(s){s&&m(e)}}}function pe(c){let e,n=S(c[0]),s=[];for(let l=0;l<n.length;l+=1)s[l]=J(F(c,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=K()},l(l){for(let i=0;i<s.length;i+=1)s[i].l(l);e=K()},m(l,i){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(l,i);k(l,e,i)},p(l,i){if(i&1){n=S(l[0]);let t;for(t=0;t<n.length;t+=1){const f=F(l,n,t);s[t]?s[t].p(f,i):(s[t]=J(f),s[t].c(),s[t].m(e.parentNode,e))}for(;t<s.length;t+=1)s[t].d(1);s.length=n.length}},d(l){l&&m(e),A(s,l)}}}function J(c){let e,n,s,l,i,t,f=c[3].name+"",r,o,u;return{c(){e=v("a"),n=v("img"),i=I(),t=v("div"),r=$(f),o=I(),this.h()},l(a){e=g(a,"A",{class:!0,href:!0});var h=C(e);n=g(h,"IMG",{class:!0,src:!0,alt:!0}),i=O(h),t=g(h,"DIV",{class:!0});var _=C(t);r=G(_,f),_.forEach(m),o=O(h),h.forEach(m),this.h()},h(){p(n,"class","thumb svelte-twkini"),le(n.src,s="/images/box.webp")||p(n,"src",s),p(n,"alt",l=c[3].name),p(t,"class","title svelte-twkini"),p(e,"class","card svelte-twkini"),p(e,"href",u=`/player?filename=${c[3].filename}`)},m(a,h){k(a,e,h),b(e,n),b(e,i),b(e,t),b(t,r),b(e,o)},p(a,h){h&1&&l!==(l=a[3].name)&&p(n,"alt",l),h&1&&f!==(f=a[3].name+"")&&M(r,f),h&1&&u!==(u=`/player?filename=${a[3].filename}`)&&p(e,"href",u)},d(a){a&&m(e)}}}function ge(c){let e;function n(i,t){return i[0].length>0?pe:me}let s=n(c),l=s(c);return{c(){e=v("div"),l.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var t=C(e);l.l(t),t.forEach(m),this.h()},h(){p(e,"class","question-grid svelte-twkini")},m(i,t){k(i,e,t),l.m(e,null)},p(i,[t]){s===(s=n(i))&&l?l.p(i,t):(l.d(1),l=s(i),l&&(l.c(),l.m(e,null)))},i:E,o:E,d(i){i&&m(e),l.d()}}}function ve(c,e,n){let{questions:s=[]}=e,{selectedChapter:l=null}=e,{selectedExercise:i=null}=e;return c.$$set=t=>{"questions"in t&&n(0,s=t.questions),"selectedChapter"in t&&n(1,l=t.selectedChapter),"selectedExercise"in t&&n(2,i=t.selectedExercise)},[s,l,i]}class be extends j{constructor(e){super(),P(this,e,ve,ge,U,{questions:0,selectedChapter:1,selectedExercise:2})}}function R(c){let e,n,s,l,i,t;e=new ue({props:{chapters:c[3],selectedChapter:c[1],isSidebarOpen:c[4]}}),e.$on("select",c[7]),e.$on("toggle",c[9]);const f=[Ce,ke],r=[];function o(u,a){return u[1]?0:1}return l=o(c),i=r[l]=f[l](c),{c(){z(e.$$.fragment),n=I(),s=v("div"),i.c(),this.h()},l(u){V(e.$$.fragment,u),n=O(u),s=g(u,"DIV",{class:!0});var a=C(s);i.l(a),a.forEach(m),this.h()},h(){p(s,"class","main-content svelte-l59yb"),w(s,"sidebar-open",c[4])},m(u,a){B(e,u,a),k(u,n,a),k(u,s,a),r[l].m(s,null),t=!0},p(u,a){const h={};a&8&&(h.chapters=u[3]),a&2&&(h.selectedChapter=u[1]),a&16&&(h.isSidebarOpen=u[4]),e.$set(h);let _=l;l=o(u),l===_?r[l].p(u,a):(ee(),y(r[_],1,1,()=>{r[_]=null}),X(),i=r[l],i?i.p(u,a):(i=r[l]=f[l](u),i.c()),N(i,1),i.m(s,null)),(!t||a&16)&&w(s,"sidebar-open",u[4])},i(u){t||(N(e.$$.fragment,u),N(i),t=!0)},o(u){y(e.$$.fragment,u),y(i),t=!1},d(u){u&&(m(n),m(s)),x(e,u),r[l].d()}}}function ke(c){let e,n="Please select a chapter from the sidebar.";return{c(){e=v("p"),e.textContent=n},l(s){e=g(s,"P",{"data-svelte-h":!0}),D(e)!=="svelte-1q2nasn"&&(e.textContent=n)},m(s,l){k(s,e,l)},p:E,i:E,o:E,d(s){s&&m(e)}}}function Ce(c){let e,n,s,l,i;return e=new _e({props:{exercises:c[6],selectedExercise:c[2]}}),e.$on("select",c[8]),l=new be({props:{questions:c[5],selectedChapter:c[1],selectedExercise:c[2]}}),{c(){z(e.$$.fragment),n=I(),s=v("div"),z(l.$$.fragment),this.h()},l(t){V(e.$$.fragment,t),n=O(t),s=g(t,"DIV",{class:!0});var f=C(s);V(l.$$.fragment,f),f.forEach(m),this.h()},h(){p(s,"class","questions-container svelte-l59yb")},m(t,f){B(e,t,f),k(t,n,f),k(t,s,f),B(l,s,null),i=!0},p(t,f){const r={};f&64&&(r.exercises=t[6]),f&4&&(r.selectedExercise=t[2]),e.$set(r);const o={};f&32&&(o.questions=t[5]),f&2&&(o.selectedChapter=t[1]),f&4&&(o.selectedExercise=t[2]),l.$set(o)},i(t){i||(N(e.$$.fragment,t),N(l.$$.fragment,t),i=!0)},o(t){y(e.$$.fragment,t),y(l.$$.fragment,t),i=!1},d(t){t&&(m(n),m(s)),x(e,t),x(l)}}}function Ee(c){let e,n,s,l,i;n=new ce({});let t=c[0]&&R(c);return{c(){e=v("div"),z(n.$$.fragment),s=I(),l=v("div"),t&&t.c(),this.h()},l(f){e=g(f,"DIV",{class:!0});var r=C(e);V(n.$$.fragment,r),s=O(r),l=g(r,"DIV",{class:!0});var o=C(l);t&&t.l(o),o.forEach(m),r.forEach(m),this.h()},h(){p(l,"class","layout-container svelte-l59yb"),p(e,"class","app-container svelte-l59yb")},m(f,r){k(f,e,r),B(n,e,null),b(e,s),b(e,l),t&&t.m(l,null),i=!0},p(f,[r]){f[0]?t?(t.p(f,r),r&1&&N(t,1)):(t=R(f),t.c(),N(t,1),t.m(l,null)):t&&(ee(),y(t,1,1,()=>{t=null}),X())},i(f){i||(N(n.$$.fragment,f),N(t),i=!0)},o(f){y(n.$$.fragment,f),y(t),i=!1},d(f){f&&m(e),x(n),t&&t.d()}}}function qe(c,e,n){let s,l,i,t=[],f=null,r=null,o=!0;se(async()=>{var H;const _=ne(ie).url.searchParams.get("tcode")??"fbise9physics",q=await(await fetch("/data/syllabus.json")).json();n(0,t=q.find(te=>te.tcodeName===_)),((H=t==null?void 0:t.chapters)==null?void 0:H.length)>0&&n(1,f=t.chapters[0])});function u(_){var d;n(1,f=((d=_.detail)==null?void 0:d.chapter)??_.detail),n(2,r=null)}function a(_){var d;n(2,r=((d=_.detail)==null?void 0:d.exercise)??_.detail)}function h(){n(4,o=!o)}return c.$$.update=()=>{var _,d;c.$$.dirty&1&&n(3,s=(t==null?void 0:t.chapters)||[]),c.$$.dirty&10&&n(6,l=f?((_=s.find(q=>q.filename===f.filename))==null?void 0:_.exercises)||[]:[]),c.$$.dirty&14&&n(5,i=f?r?r.questions||[]:((d=s.find(q=>q.filename===f.filename))==null?void 0:d.exercises.flatMap(q=>q.questions||[]))||[]:[])},[t,f,r,s,o,i,l,u,a,h]}class De extends j{constructor(e){super(),P(this,e,qe,Ee,U,{})}}export{De as component};
