import{S as Ae,i as Pe,s as Ue,n as $,d as p,b as D,h as F,A as ie,k as R,O as Re,B as fe,r as h,e as T,f as O,j as q,P as Me,y as de,H as ae,Q as ge,c as u,C as Y,R as ze,G as te,T as He,g as L,w as Z,t as j,a as oe,z as I,U as ce,V as ue,m as Be,o as le,p as x,J as ve,q as Ie,v as De,x as Oe,l as Je,D as Ge,K as me,E as Le,F as re,W as We,X as Xe}from"../chunks/CJK8MNlv.js";import{e as ne}from"../chunks/DbSyjxyz.js";import"../chunks/IHki7fMi.js";import{p as Ke}from"../chunks/CbD6mK0K.js";import{N as Qe}from"../chunks/BKcAV9pP.js";function be(l,e,n){const t=l.slice();return t[15]=e[n],t[17]=n,t}function ke(l,e,n){const t=l.slice();return t[18]=e[n],t}function Ye(l){let e,n="No image in this slide.";return{c(){e=q("p"),e.textContent=n,this.h()},l(t){e=T(t,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1xr3n2s"&&(e.textContent=n),this.h()},h(){h(e,"class","text-sm italic text-gray-500")},m(t,s){D(t,e,s)},p:$,d(t){t&&p(e)}}}function Ze(l){let e,n,t,s,i,r,o,d,y,C,v="Arrow",m,w="Circle",c,U,a,k,f,E,S,J,g,_,K=ne(l[0]),z=[];for(let P=0;P<K.length;P+=1)z[P]=ye(ke(l,K,P));return{c(){e=q("div"),n=q("img"),s=R(),i=q("div");for(let P=0;P<z.length;P+=1)z[P].c();r=R(),o=q("div"),d=j(`Type:
    `),y=q("select"),C=q("option"),C.textContent=v,m=q("option"),m.textContent=w,c=R(),U=q("label"),a=q("input"),k=j(" Blink"),f=R(),E=q("label"),S=q("input"),J=j(" Wiggle"),this.h()},l(P){e=T(P,"DIV",{class:!0});var M=O(e);n=T(M,"IMG",{src:!0,alt:!0,class:!0}),s=F(M),i=T(M,"DIV",{class:!0});var B=O(i);for(let H=0;H<z.length;H+=1)z[H].l(B);B.forEach(p),M.forEach(p),r=F(P),o=T(P,"DIV",{class:!0});var Q=O(o);d=L(Q,`Type:
    `),y=T(Q,"SELECT",{class:!0});var b=O(y);C=T(b,"OPTION",{"data-svelte-h":!0}),Z(C)!=="svelte-60dtvc"&&(C.textContent=v),m=T(b,"OPTION",{"data-svelte-h":!0}),Z(m)!=="svelte-1qqnilq"&&(m.textContent=w),b.forEach(p),c=F(Q),U=T(Q,"LABEL",{});var A=O(U);a=T(A,"INPUT",{type:!0,class:!0}),k=L(A," Blink"),A.forEach(p),f=F(Q),E=T(Q,"LABEL",{});var N=O(E);S=T(N,"INPUT",{type:!0,class:!0}),J=L(N," Wiggle"),N.forEach(p),Q.forEach(p),this.h()},h(){ae(n.src,t=l[2])||h(n,"src",t),h(n,"alt","slide"),h(n,"class","bg svelte-1vq3q0e"),h(i,"class","overlay svelte-1vq3q0e"),h(e,"class","wrapper svelte-1vq3q0e"),C.__value="arrow",te(C,C.__value),m.__value="circle",te(m,m.__value),h(y,"class","svelte-1vq3q0e"),l[1].type===void 0&&He(()=>l[10].call(y)),h(a,"type","checkbox"),h(a,"class","svelte-1vq3q0e"),h(S,"type","checkbox"),h(S,"class","svelte-1vq3q0e"),h(o,"class","toolbar svelte-1vq3q0e")},m(P,M){D(P,e,M),u(e,n),u(e,s),u(e,i);for(let B=0;B<z.length;B+=1)z[B]&&z[B].m(i,null);D(P,r,M),D(P,o,M),u(o,d),u(o,y),u(y,C),u(y,m),ge(y,l[1].type,!0),u(o,c),u(o,U),u(U,a),a.checked=l[1].blink,u(U,k),u(o,f),u(o,E),u(E,S),S.checked=l[1].wiggle,u(E,J),g||(_=[Y(e,"click",ze(l[3])),Y(y,"change",l[10]),Y(a,"change",l[11]),Y(S,"change",l[12])],g=!0)},p(P,M){if(M&4&&!ae(n.src,t=P[2])&&h(n,"src",t),M&49){K=ne(P[0]);let B;for(B=0;B<K.length;B+=1){const Q=ke(P,K,B);z[B]?z[B].p(Q,M):(z[B]=ye(Q),z[B].c(),z[B].m(i,null))}for(;B<z.length;B+=1)z[B].d(1);z.length=K.length}M&2&&ge(y,P[1].type),M&2&&(a.checked=P[1].blink),M&2&&(S.checked=P[1].wiggle)},d(P){P&&(p(e),p(r),p(o)),fe(z,P),g=!1,de(_)}}}function xe(l){let e,n;return{c(){e=ue("svg"),n=ue("path"),this.h()},l(t){e=ce(t,"svg",{viewBox:!0,class:!0});var s=O(e);n=ce(s,"path",{d:!0,"stroke-width":!0,fill:!0}),O(n).forEach(p),s.forEach(p),this.h()},h(){h(n,"d","M2 12l20 0M14 6l8 6-8 6"),h(n,"stroke-width","2"),h(n,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"class","svelte-1vq3q0e")},m(t,s){D(t,e,s),u(e,n)},d(t){t&&p(e)}}}function $e(l){let e,n;return{c(){e=ue("svg"),n=ue("circle"),this.h()},l(t){e=ce(t,"svg",{viewBox:!0,class:!0});var s=O(e);n=ce(s,"circle",{cx:!0,cy:!0,r:!0}),O(n).forEach(p),s.forEach(p),this.h()},h(){h(n,"cx","12"),h(n,"cy","12"),h(n,"r","9"),h(e,"viewBox","0 0 24 24"),h(e,"class","svelte-1vq3q0e")},m(t,s){D(t,e,s),u(e,n)},d(t){t&&p(e)}}}function ye(l){let e,n,t,s="Ã—",i,r,o,d;function y(w,c){return w[18].type==="circle"?$e:xe}let C=y(l),v=C(l);function m(){return l[9](l[18])}return{c(){e=q("div"),v.c(),n=R(),t=q("span"),t.textContent=s,i=R(),this.h()},l(w){e=T(w,"DIV",{class:!0,style:!0});var c=O(e);v.l(c),n=F(c),t=T(c,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1f34jcx"&&(t.textContent=s),i=F(c),c.forEach(p),this.h()},h(){h(t,"class","delete svelte-1vq3q0e"),h(e,"class",r="pointer "+l[18].type+" "+(l[18].blink?"blink":"")+" "+(l[18].wiggle?"wiggle":"")+" svelte-1vq3q0e"),I(e,"left",l[18].x+"% "),I(e,"top",l[18].y+"% "),I(e,"opacity",l[5](l[18])?1:0)},m(w,c){D(w,e,c),v.m(e,null),u(e,n),u(e,t),u(e,i),o||(d=Y(t,"click",ze(m)),o=!0)},p(w,c){l=w,C!==(C=y(l))&&(v.d(1),v=C(l),v&&(v.c(),v.m(e,n))),c&1&&r!==(r="pointer "+l[18].type+" "+(l[18].blink?"blink":"")+" "+(l[18].wiggle?"wiggle":"")+" svelte-1vq3q0e")&&h(e,"class",r),c&1&&I(e,"left",l[18].x+"% "),c&1&&I(e,"top",l[18].y+"% "),c&1&&I(e,"opacity",l[5](l[18])?1:0)},d(w){w&&p(e),v.d(),o=!1,d()}}}function we(l){let e,n=ne(l[0]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Ce(be(l,n,s));return{c(){e=q("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var i=O(e);for(let r=0;r<t.length;r+=1)t[r].l(i);i.forEach(p),this.h()},h(){h(e,"class","pointer-list svelte-1vq3q0e")},m(s,i){D(s,e,i);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,i){if(i&17){n=ne(s[0]);let r;for(r=0;r<n.length;r+=1){const o=be(s,n,r);t[r]?t[r].p(o,i):(t[r]=Ce(o),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},d(s){s&&p(e),fe(t,s)}}}function Ce(l){let e,n=l[17]+1+"",t,s,i=l[15].type+"",r,o,d,y;function C(){return l[13](l[15])}return{c(){e=q("span"),t=j(n),s=j(". "),r=j(i),o=j(` Ã—
      `),this.h()},l(v){e=T(v,"SPAN",{class:!0});var m=O(e);t=L(m,n),s=L(m,". "),r=L(m,i),o=L(m,` Ã—
      `),m.forEach(p),this.h()},h(){h(e,"class","pill svelte-1vq3q0e")},m(v,m){D(v,e,m),u(e,t),u(e,s),u(e,r),u(e,o),d||(y=Y(e,"click",C),d=!0)},p(v,m){l=v,m&1&&i!==(i=l[15].type+"")&&oe(r,i)},d(v){v&&p(e),d=!1,y()}}}function et(l){let e,n;function t(o,d){return o[2]?Ze:Ye}let s=t(l),i=s(l),r=l[0].length&&we(l);return{c(){i.c(),e=R(),r&&r.c(),n=ie()},l(o){i.l(o),e=F(o),r&&r.l(o),n=ie()},m(o,d){i.m(o,d),D(o,e,d),r&&r.m(o,d),D(o,n,d)},p(o,[d]){s===(s=t(o))&&i?i.p(o,d):(i.d(1),i=s(o),i&&(i.c(),i.m(e.parentNode,e))),o[0].length?r?r.p(o,d):(r=we(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:$,o:$,d(o){o&&(p(e),p(n)),i.d(o),r&&r.d(o)}}}function tt(l,e,n){return{x:Math.round(l/n.width*100),y:Math.round(e/n.height*100)}}function lt(l,e,n){let t,s,i,{slide:r}=e,{currentTime:o=0}=e;const d=Re();let y={type:"arrow",blink:!1,wiggle:!1};function C(f){if(!s)return;const E=f.currentTarget.getBoundingClientRect(),{x:S,y:J}=tt(f.clientX-E.left,f.clientY-E.top,E);n(6,r.data=[...r.data,{name:"pointer",x:S,y:J,showAt:Math.round(o),hideAt:void 0,...y}],r),d("edit")}function v(f){n(6,r.data=r.data.filter(E=>E!==f),r),d("edit")}function m(f){const E=f.showAt??r.start,S=f.hideAt??r.end;return o>=E&&o<=S}const w=f=>v(f);function c(){y.type=Me(this),n(1,y)}function U(){y.blink=this.checked,n(1,y)}function a(){y.wiggle=this.checked,n(1,y)}const k=f=>v(f);return l.$$set=f=>{"slide"in f&&n(6,r=f.slide),"currentTime"in f&&n(7,o=f.currentTime)},l.$$.update=()=>{var f,E;l.$$.dirty&64&&n(8,t=(f=r==null?void 0:r.data)==null?void 0:f.find(S=>S.name==="image")),l.$$.dirty&256&&n(2,s=(t==null?void 0:t.content)??(t==null?void 0:t.image)??(t==null?void 0:t.imageUrl)??null),l.$$.dirty&64&&n(0,i=((E=r==null?void 0:r.data)==null?void 0:E.filter(S=>S.name==="pointer"))??[]),l.$$.dirty&1&&console.log("pointerItems",i)},[i,y,s,C,v,m,r,o,t,w,c,U,a,k]}class nt extends Ae{constructor(e){super(),Pe(this,e,lt,et,Ue,{slide:6,currentTime:7})}}function Ee(l,e,n){const t=l.slice();return t[28]=e[n],t[29]=e,t[30]=n,t}function Te(l,e,n){const t=l.slice();return t[31]=e[n],t[32]=e,t[33]=n,t}function st(l){let e,n,t,s=l[4].toFixed(2)+"",i,r,o,d,y;function C(a,k){return a[7]?at:ot}let v=C(l),m=v(l),w=ne(l[0].deck),c=[];for(let a=0;a<w.length;a+=1)c[a]=Se(Ee(l,w,a));const U=a=>le(c[a],1,1,()=>{c[a]=null});return{c(){m.c(),e=R(),n=q("div"),t=j("Current Time: "),i=j(s),r=j("s"),o=R();for(let a=0;a<c.length;a+=1)c[a].c();d=ie(),this.h()},l(a){m.l(a),e=F(a),n=T(a,"DIV",{class:!0});var k=O(n);t=L(k,"Current Time: "),i=L(k,s),r=L(k,"s"),k.forEach(p),o=F(a);for(let f=0;f<c.length;f+=1)c[f].l(a);d=ie(),this.h()},h(){h(n,"class","time-display svelte-z7ly11")},m(a,k){m.m(a,k),D(a,e,k),D(a,n,k),u(n,t),u(n,i),u(n,r),D(a,o,k);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(a,k);D(a,d,k),y=!0},p(a,k){if(v===(v=C(a))&&m?m.p(a,k):(m.d(1),m=v(a),m&&(m.c(),m.m(e.parentNode,e))),(!y||k[0]&16)&&s!==(s=a[4].toFixed(2)+"")&&oe(i,s),k[0]&3921){w=ne(a[0].deck);let f;for(f=0;f<w.length;f+=1){const E=Ee(a,w,f);c[f]?(c[f].p(E,k),x(c[f],1)):(c[f]=Se(E),c[f].c(),x(c[f],1),c[f].m(d.parentNode,d))}for(me(),f=w.length;f<c.length;f+=1)U(f);ve()}},i(a){if(!y){for(let k=0;k<w.length;k+=1)x(c[k]);y=!0}},o(a){c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)le(c[k]);y=!1},d(a){a&&(p(e),p(n),p(o),p(d)),m.d(a),fe(c,a)}}}function rt(l){let e,n="Loading deckâ€¦";return{c(){e=q("p"),e.textContent=n,this.h()},l(t){e=T(t,"P",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-88q0iq"&&(e.textContent=n),this.h()},h(){h(e,"class","centered svelte-z7ly11")},m(t,s){D(t,e,s)},p:$,i:$,o:$,d(t){t&&p(e)}}}function it(l){let e,n,t;return{c(){e=q("p"),n=j("Error: "),t=j(l[2]),this.h()},l(s){e=T(s,"P",{class:!0});var i=O(e);n=L(i,"Error: "),t=L(i,l[2]),i.forEach(p),this.h()},h(){h(e,"class","error svelte-z7ly11")},m(s,i){D(s,e,i),u(e,n),u(e,t)},p(s,i){i[0]&4&&oe(t,s[2])},i:$,o:$,d(s){s&&p(e)}}}function ot(l){let e,n="ðŸ’¡ Sound not found";return{c(){e=q("h1"),e.textContent=n,this.h()},l(t){e=T(t,"H1",{style:!0,"data-svelte-h":!0}),Z(e)!=="svelte-km9r49"&&(e.textContent=n),this.h()},h(){I(e,"width","100%"),I(e,"border","2px solid #facc15"),I(e,"border-radius","0.375rem"),I(e,"text-align","center"),I(e,"font-size","1.2rem"),I(e,"padding","6px"),I(e,"margin","2px"),I(e,"background-color","#0f4502")},m(t,s){D(t,e,s)},p:$,d(t){t&&p(e)}}}function at(l){let e,n,t;return{c(){e=q("div"),n=q("audio"),this.h()},l(s){e=T(s,"DIV",{class:!0});var i=O(e);n=T(i,"AUDIO",{src:!0,class:!0}),O(n).forEach(p),i.forEach(p),this.h()},h(){ae(n.src,t=l[5])||h(n,"src",t),n.controls=!0,h(n,"class","w-full"),h(e,"class","audio-panel svelte-z7ly11")},m(s,i){D(s,e,i),u(e,n),l[14](n)},p(s,i){i[0]&32&&!ae(n.src,t=s[5])&&h(n,"src",t)},d(s){s&&p(e),l[14](null)}}}function qe(l){let e,n,t;function s(r){l[16](r,l[28],l[29],l[30])}let i={currentTime:l[4]};return l[28]!==void 0&&(i.slide=l[28]),e=new nt({props:i}),Le.push(()=>We(e,"slide",s)),e.$on("edit",l[17]),{c(){Oe(e.$$.fragment)},l(r){De(e.$$.fragment,r)},m(r,o){Ie(e,r,o),t=!0},p(r,o){l=r;const d={};o[0]&16&&(d.currentTime=l[4]),!n&&o[0]&1&&(n=!0,d.slide=l[28],Xe(()=>n=!1)),e.$set(d)},i(r){t||(x(e.$$.fragment,r),t=!0)},o(r){le(e.$$.fragment,r),t=!1},d(r){Be(e,r)}}}function Ne(l){let e,n,t,s,i,r="ShowAt = 0",o,d,y="ShowAt = Now",C,v=(l[31].name||l[31].type)+"",m,w,c=l[31].content+"",U,a,k,f;function E(){l[18].call(t,l[32],l[33])}function S(){return l[19](l[31])}function J(){return l[20](l[31])}return{c(){e=q("div"),n=j(`showAt:
          `),t=q("input"),s=R(),i=q("button"),i.textContent=r,o=R(),d=q("button"),d.textContent=y,C=j(`
          â€¢ `),m=j(v),w=j(': "'),U=j(c),a=j('"'),this.h()},l(g){e=T(g,"DIV",{class:!0});var _=O(e);n=L(_,`showAt:
          `),t=T(_,"INPUT",{type:!0,step:!0,class:!0}),s=F(_),i=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(i)!=="svelte-1hxjcen"&&(i.textContent=r),o=F(_),d=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-9kb0me"&&(d.textContent=y),C=L(_,`
          â€¢ `),m=L(_,v),w=L(_,': "'),U=L(_,c),a=L(_,'"'),_.forEach(p),this.h()},h(){h(t,"type","number"),h(t,"step","0.0"),h(t,"class","svelte-z7ly11"),h(i,"class","set-show-zero svelte-z7ly11"),h(d,"class","set-show svelte-z7ly11"),h(e,"class","item svelte-z7ly11")},m(g,_){D(g,e,_),u(e,n),u(e,t),te(t,l[31].showAt),u(e,s),u(e,i),u(e,o),u(e,d),u(e,C),u(e,m),u(e,w),u(e,U),u(e,a),k||(f=[Y(t,"input",E),Y(i,"click",S),Y(d,"click",J)],k=!0)},p(g,_){l=g,_[0]&1&&re(t.value)!==l[31].showAt&&te(t,l[31].showAt),_[0]&1&&v!==(v=(l[31].name||l[31].type)+"")&&oe(m,v),_[0]&1&&c!==(c=l[31].content+"")&&oe(U,c)},d(g){g&&p(e),k=!1,de(f)}}}function Se(l){let e,n,t,s,i=l[30]+1+"",r,o,d=l[28].type+"",y,C,v,m="Set Start = Now",w,c,U,a,k,f,E,S,J,g,_,K,z,P="Set End = Now",M,B,Q,b;function A(){return l[15](l[30])}let N=l[28].type==="pointerSlide"&&qe(l),H=ne(l[28].data),X=[];for(let G=0;G<H.length;G+=1)X[G]=Ne(Te(l,H,G));function je(){l[21].call(E,l[29],l[30])}function Ve(){l[22].call(_,l[29],l[30])}function Fe(){return l[23](l[30])}return{c(){e=q("div"),n=q("div"),t=q("strong"),s=j("Slide "),r=j(i),o=j(" â€” "),y=j(d),C=R(),v=q("button"),v.textContent=m,w=R(),N&&N.c(),c=R();for(let G=0;G<X.length;G+=1)X[G].c();U=R(),a=q("div"),k=q("label"),f=j(`Start:
          `),E=q("input"),S=R(),J=q("label"),g=j(`End:
          `),_=q("input"),K=R(),z=q("button"),z.textContent=P,M=R(),this.h()},l(G){e=T(G,"DIV",{class:!0});var W=O(e);n=T(W,"DIV",{class:!0});var V=O(n);t=T(V,"STRONG",{});var ee=O(t);s=L(ee,"Slide "),r=L(ee,i),o=L(ee," â€” "),y=L(ee,d),ee.forEach(p),C=F(V),v=T(V,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(v)!=="svelte-1jui6sd"&&(v.textContent=m),V.forEach(p),w=F(W),N&&N.l(W),c=F(W);for(let pe=0;pe<X.length;pe+=1)X[pe].l(W);U=F(W),a=T(W,"DIV",{style:!0});var se=O(a);k=T(se,"LABEL",{});var he=O(k);f=L(he,`Start:
          `),E=T(he,"INPUT",{type:!0,step:!0,class:!0}),he.forEach(p),S=F(se),J=T(se,"LABEL",{style:!0});var _e=O(J);g=L(_e,`End:
          `),_=T(_e,"INPUT",{type:!0,step:!0,class:!0}),_e.forEach(p),K=F(se),z=T(se,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(z)!=="svelte-r1greb"&&(z.textContent=P),se.forEach(p),M=F(W),W.forEach(p),this.h()},h(){h(v,"class","set-start svelte-z7ly11"),v.disabled=l[30]===0,h(n,"class","slide-header svelte-z7ly11"),h(E,"type","number"),h(E,"step","0.01"),h(E,"class","svelte-z7ly11"),h(_,"type","number"),h(_,"step","0.01"),h(_,"class","svelte-z7ly11"),I(J,"margin-left","1rem"),h(z,"class","set-end svelte-z7ly11"),I(a,"display","flex"),I(a,"align-items","center"),I(a,"margin-top","0.5rem"),h(e,"class","slide svelte-z7ly11")},m(G,W){D(G,e,W),u(e,n),u(n,t),u(t,s),u(t,r),u(t,o),u(t,y),u(n,C),u(n,v),u(e,w),N&&N.m(e,null),u(e,c);for(let V=0;V<X.length;V+=1)X[V]&&X[V].m(e,null);u(e,U),u(e,a),u(a,k),u(k,f),u(k,E),te(E,l[28].start),u(a,S),u(a,J),u(J,g),u(J,_),te(_,l[28].end),u(a,K),u(a,z),u(e,M),B=!0,Q||(b=[Y(v,"click",A),Y(E,"input",je),Y(_,"input",Ve),Y(z,"click",Fe)],Q=!0)},p(G,W){if(l=G,(!B||W[0]&1)&&d!==(d=l[28].type+"")&&oe(y,d),l[28].type==="pointerSlide"?N?(N.p(l,W),W[0]&1&&x(N,1)):(N=qe(l),N.c(),x(N,1),N.m(e,c)):N&&(me(),le(N,1,1,()=>{N=null}),ve()),W[0]&3073){H=ne(l[28].data);let V;for(V=0;V<H.length;V+=1){const ee=Te(l,H,V);X[V]?X[V].p(ee,W):(X[V]=Ne(ee),X[V].c(),X[V].m(e,U))}for(;V<X.length;V+=1)X[V].d(1);X.length=H.length}W[0]&1&&re(E.value)!==l[28].start&&te(E,l[28].start),W[0]&1&&re(_.value)!==l[28].end&&te(_,l[28].end)},i(G){B||(x(N),B=!0)},o(G){le(N),B=!1},d(G){G&&p(e),N&&N.d(),fe(X,G),Q=!1,de(b)}}}function ct(l){let e,n,t,s="ðŸ’¡ Timing Page",i,r,o,d="Save",y,C,v="Save and Download",m,w,c,U,a,k,f;e=new Qe({});const E=[it,rt,st],S=[];function J(g,_){return g[2]?0:g[1]?2:1}return w=J(l),c=S[w]=E[w](l),{c(){Oe(e.$$.fragment),n=R(),t=q("h1"),t.textContent=s,i=R(),r=q("div"),o=q("button"),o.textContent=d,y=R(),C=q("button"),C.textContent=v,m=R(),c.c(),U=ie(),this.h()},l(g){De(e.$$.fragment,g),n=F(g),t=T(g,"H1",{style:!0,"data-svelte-h":!0}),Z(t)!=="svelte-b6baqi"&&(t.textContent=s),i=F(g),r=T(g,"DIV",{class:!0,style:!0});var _=O(r);o=T(_,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(o)!=="svelte-mcs0te"&&(o.textContent=d),y=F(_),C=T(_,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),Z(C)!=="svelte-cj91f7"&&(C.textContent=v),_.forEach(p),m=F(g),c.l(g),U=ie(),this.h()},h(){I(t,"width","100%"),I(t,"border","2px solid #facc15"),I(t,"border-radius","0.375rem"),I(t,"text-align","center"),I(t,"font-size","1.2rem"),I(t,"padding","6px"),I(t,"margin","2px"),I(t,"background-color","#0f4502"),h(o,"class","btn svelte-z7ly11"),h(C,"class","btn svelte-z7ly11"),I(C,"margin-left","0.5rem"),h(r,"class","timing-actions"),I(r,"margin","1rem 0")},m(g,_){Ie(e,g,_),D(g,n,_),D(g,t,_),D(g,i,_),D(g,r,_),u(r,o),u(r,y),u(r,C),D(g,m,_),S[w].m(g,_),D(g,U,_),a=!0,k||(f=[Y(o,"click",l[12]),Y(C,"click",l[13])],k=!0)},p(g,_){let K=w;w=J(g),w===K?S[w].p(g,_):(me(),le(S[K],1,1,()=>{S[K]=null}),ve(),c=S[w],c?c.p(g,_):(c=S[w]=E[w](g),c.c()),x(c,1),c.m(U.parentNode,U))},i(g){a||(x(e.$$.fragment,g),x(c),a=!0)},o(g){le(e.$$.fragment,g),le(c),a=!1},d(g){g&&(p(n),p(t),p(i),p(r),p(m),p(U)),Be(e,g),S[w].d(g),k=!1,de(f)}}}function ut(l,e,n){let t;Je(l,Ke,b=>n(24,t=b));let s=null,i=!1,r="",o=null,d=0,y="/sounds/default.opus";const C=()=>{o&&n(4,d=o.currentTime),requestAnimationFrame(C)};function v(b){if(!(s!=null&&s.deck))return;const A=parseFloat(d.toFixed(2));n(0,s.deck[b].end=A,s),s.deck[b+1]&&n(0,s.deck[b+1].start=A,s),n(0,s={...s})}function m(b){if(!(s!=null&&s.deck)||b===0)return;const A=parseFloat(d.toFixed(2));n(0,s.deck[b-1].end=A,s),n(0,s.deck[b].start=A,s),n(0,s={...s})}function w(b){b.showAt=parseFloat(d.toFixed(1)),n(0,s={...s})}function c(b){b.showAt=0,n(0,s={...s})}async function U(){const b=t.url.searchParams.get("filename")??"",A=await fetch(`/admin/timings?filename=${encodeURIComponent(b)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!A.ok){let N;try{const H=await A.json();N=H.error??JSON.stringify(H)}catch{N=await A.text()}return alert(`âŒ Save failed: ${N}`),!1}return alert("âœ… Save successful"),!0}async function a(){await U()&&k()}function k(){const b=t.url.searchParams.get("filename")??"deck",A=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),N=URL.createObjectURL(A),H=document.createElement("a");H.href=N,H.download=`${b}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(N)}let f=!1,E=!1;Ge(async()=>{C();const b=t.url.searchParams.get("filename");if(!b){n(2,r="No filename provided");return}try{(await fetch(`/sounds/${b}.opus`,{method:"HEAD"})).ok&&(n(5,y=`/sounds/${b}.opus`),n(7,E=!0))}catch{}try{const A=await fetch(`/admin/timings?filename=${encodeURIComponent(b)}`);if(!A.ok){const N=await A.json();throw new Error(N.error||A.statusText)}n(0,s=await A.json()),n(1,i=!0)}catch(A){n(2,r=A.message)}});function S(b){Le[b?"unshift":"push"](()=>{o=b,n(3,o)})}const J=b=>m(b);function g(b,A,N,H){N[H]=b,n(0,s)}const _=()=>n(6,f=!0);function K(b,A){b[A].showAt=re(this.value),n(0,s)}const z=b=>c(b),P=b=>w(b);function M(b,A){b[A].start=re(this.value),n(0,s)}function B(b,A){b[A].end=re(this.value),n(0,s)}return[s,i,r,o,d,y,f,E,v,m,w,c,U,a,S,J,g,_,K,z,P,M,B,b=>v(b)]}class vt extends Ae{constructor(e){super(),Pe(this,e,ut,ct,Ue,{},null,[-1,-1])}}export{vt as component};
